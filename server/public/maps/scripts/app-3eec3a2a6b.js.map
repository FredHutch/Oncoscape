{"version":3,"sources":["scripts/app-3eec3a2a6b.js"],"names":["angular","module","tools","ToolsController","osApi","$state","$stateParams","isUndefined","datasource","go","vm","this","name","route","img","copy","explore","tool","$inject","directive","restrict","templateUrl","controller","controllerAs","bindToController","timelines","TimelinesController","$scope","$window","moment","d3","draw","data","pfApi","filter","rawdata","p","id","chart","feature","events","sort","align","svgEl","element","svgWidth","width","svgHeight","height","svgChart","select","append","attr","svgRange","axisStyle","shape-rendering","stroke","style","class","transform","call","svg","axis","scale","linear","domain","range","orient","barBackground","barsFeature","barsTimeline","patientsX","patients","patient","hasOwnProperty","a","b","calcEvents","index","value","forEach","dateEvents","evt","startValue","start","endValue","end","rowHeight","Math","floor","length","drawBackground","drawFeature","drawTimeline","svgFeatures","selectAll","exit","remove","minmax","max","map","transition","duration","x","d","enter","fill","i","features","css","top","filterEventTypes","selected","filterDateEvents","dateEvent","reduce","c","min","Infinity","val","tickFormat","unix","format","rows","cells","opacity","color","round","sorts","getPatientFilterApi","init","onSelect","add","eventClick","eventType","toggleFilter","toggleClass","setBusy","setDataset","then","getTimelines","response","processPatientData","payload","pts","processFeatureData","unshift","processEventData","eventTypes","$watchGroup","status","rv","Object","keys","v","key","m","mf","dateSingle","eventOrder","date","endDates","eventID","startDates","sd","ed","concat","survival","SurvivalController","$timeout","ids","rawData","getCalculatedSurvivalCurves","r","getPatientHistoryTable","tbl","login","SubnavController","toolsClick","cohortClick","replace","Pca3dController","THREE","geneSets","geneSet","elChart","mtx","rownames","indexOf","setBusyMessage","getPCA","getGeneSetNames","$watch","update","getCalculatedPCA","pc1","pc2","scores","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","renderer","WebGLRenderer","setSize","domElement","geometry","BoxGeometry","material","MeshBasicMaterial","cube","Mesh","position","z","render","requestAnimationFrame","rotation","y","PlsrController","$sce","deathMinFilter","deathMinValue","deathMaxFilter","deathMaxValue","survivalMinFilter","survivalMinValue","survivalMaxFilter","survivalMaxValue","frame","tip","abs","vectors","genes","nAbs","xScale","yScale","text","text-anchor","lines","stroke-width","x1","y1","x2","y2","circles","cx","cy","on","modal","url","$apply","trustAsResourceUrl","pt","mouse","tooltip","each","delay","margin","right","bottom","left","getPLSR","getSummarizedPLSRPatientAttributes","AgeDx","Survival","factors","low","Number","high","getCalculatedPLSR","loadings","item","loadingNames","vectorNames","maxValue","PcaController","dataset","xMax","yMax","xAxis","ticks","yAxis","brush","bv","extent","d3Chart","classed","d3Tooltip","html","event","pageX","pageY","d3xAxis","d3yAxis","cohort","createCohort","addFilter","__data__","pathways","PathwaysController","cytoscape","getStyle","darkblue","red","purple","green","selector","content","text-valign","text-halign","shape","background-color","border-width","border-color","line-color","line-style","target-arrow-shape","target-arrow-color","display","overlay-opacity","overlay-color","font-size","border-style","source-arrow-shape","source-arrow-color","markersNetwork","search","csChart","term","toUpperCase","len","nodes","ele","unselect","substr","getPathway","fromJson","container","elements","layout","fit","e","cyTarget","pmid","source","oncoscape","SockJS","$rootScope","$q","$log","$location","callbacks","requestId","getRequestId","socket","protocol","host","port","debug","devel","onmessage","isDefined","cmd","callback","resolve","error","request","deferred","defer","readyState","onopen","send","toJson","promise","factory","osSocket","$http","signals","getDataSource","_dataSource","setDataSource","onDataSource","dispatch","userApi","onLogin","Signal","onLogout","_user","password","authenticated","token","_domains","logout","user","req","method","username","res","success","getDomains","getUser","getUserApi","_userApi","show","hide","showFilter","slideToggle","hideFilter","dataPackage","getDataSetNames","getDataManifest","datasetName","durationFormat","getPatientHistoryDxAndSurvivalMinMax","getSampleDataFrame","getSampleCategorizationNames","getSampleCategorization","names","getMarkersNetwork","getDrugGeneInteractions","getCanonicalizePatientIDsInDataset","patientIds","getGeneSetGenes","getOncoprintDataSelection","matrixName","factorCount","attrs","title","sampleIDs","getCalculatedTimelines","getModuleModificationDate","getMrnaData","entities","getCnvData","getMutationData","_patientFilterApi","dataSource","_filterTree","localStorage","getItem","_filter","delFilter","children","push","onChange","setItem","_serialize","getActiveFilter","setActiveFilter","getFilterTree","idFn","o","sb","join","service","MetadataController","colnames","dtTable","dataTable","paging","api","markers","MarkersController","_","initializeViewModel","loadData","styles","initializeStyles","initializeChart","initializeLayouts","initializeNodeColors","initializeEdgeColors","initializeEvents","initializeSearch","initializeZoom","searchGene","startBatch","deselect","toLowerCase","endBatch","searchPatient","optInteractiveModes","optInteractiveMode","optPatientLayouts","optPatientLayout","optNodeColors","optNodeColor","optEdgeColors","legandNodes","legandPatient","legandChromosomes","el","hideEdgesOnViewport","hideLabelsOnViewport","textureOnViewport","motionBlur","minZoom","maxZoom","label","line-width","geneOver","geneOut","geneClick","patientOver","patientOut","patientClick","removeAll","over","out","click","hidePatientEdges","$","node","behaviors","showPatientInfo","nodeType","patientChromosomes","neighborhood","hidePatientInfo","showDegreeOne","degmap","batchData","hideDegreeOne","showDegreeTwo","hideDegreeTwo","showOncoPrint","states","register","unregister","edge","off","next","prev","colors","state","colorMap","mutation","cnGain.1","cnLoss.1","cnGain.2","cnLoss.2","edges","updateEdge","debounce","zoom","font","ceil","sizeBdr","console","log","sizeEle","degree","sizeLbl","gender","age","s","split","ii","pow","angle","cos","sin","cb","dataPatients","dataMarkers","hobo","locked","selectable","grabbable","edgeType","scope","LoginController","domains","hasError","landing","LandingController","history","HistoryController","fnClearTable","diagnosisMin","diagnosisMinValue","apply","diagnosisMax","diagnosisMaxValue","survivalMin","survivalMax","fnAddData","applyFilter","fn","DataTable","ext","settings","parseFloat","diagnosis","isNaN","scrollY","help","HelpController","videos","desc","header","HeaderController","showTools","showMenu","logoutClick","transitionTo","filters","FiltersController","setDisplay","transitionToCluster","transitionToTree","link","tree","size","cluster","diagonal","projection","links","ng","ease","dy","footer","FooterController","DatasourceController","datasets","CompareController","runBlock","$exceptionHandler","$on","toState","location","hostname","authenticate","preventDefault","run","jQuery","Error","jquery","document","createElement","WebkitTransition","MozTransition","OTransition","emulateTransitionEnd","one","trigger","support","setTimeout","special","bsTransitionEnd","bindType","delegateType","handle","target","is","handleObj","handler","arguments","close","VERSION","TRANSITION_DURATION","prototype","g","detach","f","closest","Event","isDefaultPrevented","removeClass","hasClass","alert","Constructor","noConflict","toggle","setState","$element","options","extend","DEFAULTS","isLoading","loadingText","resetText","proxy","addClass","removeAttr","find","prop","button","test","type","slide","to","interval","pause","cycle","$indicators","paused","sliding","$active","$items","keyboard","keydown","documentElement","wrap","tagName","which","clearInterval","setInterval","getItemIndex","parent","getItemForDirection","eq","h","j","k","relatedTarget","direction","l","offsetWidth","carousel","$trigger","transitioning","$parent","getParent","addAriaAndCollapsedClass","dimension","camelCase","offsetHeight","collapse","contains","insertAfter","stopPropagation","dropdown","$body","body","$dialog","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","load","BACKDROP_TRANSITION_DURATION","backdrop","checkScrollbar","setScrollbar","escape","resize","appendTo","scrollTop","adjustDialog","enforceFocus","hideModal","has","handleUpdate","resetAdjustments","resetScrollbar","removeBackdrop","currentTarget","focus","scrollHeight","clientHeight","paddingLeft","bodyIsOverflowing","paddingRight","getBoundingClientRect","clientWidth","measureScrollbar","parseInt","className","removeChild","enabled","timeout","hoverState","inState","animation","placement","template","viewport","padding","getOptions","$viewport","isFunction","hover","constructor","leave","_options","fixTitle","getDefaults","getDelegateOptions","clearTimeout","isInStateTrue","hasContent","ownerDocument","getUID","setContent","getPosition","n","getCalculatedOffset","applyPlacement","q","$tip","offset","setOffset","using","getViewportAdjustedDelta","replaceArrow","arrow","getTitle","scroll","random","getElementById","$arrow","enable","disable","toggleEnabled","destroy","removeData","getContent","popover","$scrollElement","offsets","targets","activeTarget","process","refresh","getScrollHeight","isWindow","activate","clear","parents","parentsUntil","scrollspy","tab","$target","checkPosition","checkPositionWithEventLoop","affixed","unpin","pinnedOffset","RESET","getState","getPinnedOffset","affix","offsetBottom","offsetTop","routerConfig","$stateProvider","$urlRouterProvider","otherwise","config","constant","in_min","in_max","out_min","out_max","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-3eec3a2a6b.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'ui-rangeSlider', 'toastr']);\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osTools', tools);\n\n    /** @ngInject */\n    function tools() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/tools/tools.html',\n            controller: ToolsController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ToolsController(osApi, $state, $stateParams) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n\n            var vm = this;\n            vm.datasource = $stateParams.datasource;\n            vm.tools = [{\n                name: 'Markers + Patients',\n                route: 'markers',\n                img: 'markers.png',\n                copy: 'Link copy number variation and mutation data to patients.'\n            }, {\n                name: 'Timelines',\n                route: 'timelines',\n                img: 'timelines.png',\n                copy: ''\n            }, {\n                name: 'Pathways',\n                route: 'pathways',\n                img: 'pathways.png',\n                copy: 'Map patient specific expression levels on a hand curated network of genes.'\n            }, {\n                name: 'PLSR',\n                route: 'plsr',\n                img: 'plsr.png',\n                copy: 'Use linear regression to correlate genes with clinical features using RNA expression.'\n            }, {\n                name: 'PCA',\n                route: 'pca',\n                img: 'pca.png',\n                copy: 'Two dimensional view of per sample expression data.'\n            }, {\n                name: 'Survival',\n                route: 'survival',\n                img: 'survival.png',\n                copy: 'Compare survival rates of selected patients against the remaining population in a Kaplan Meier plot.'\n            }, {\n                name: 'Patient History',\n                route: 'history',\n                img: 'history.png',\n                copy: ''\n            }, {\n                name: 'MetaData',\n                route: 'metadata',\n                img: 'metadata.png',\n                copy: ''\n            }];\n            vm.explore = function(tool, datasource) {\n                $state.go(tool, {\n                    datasource: datasource\n                });\n            };\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osTimelines', timelines);\n\n    /** @ngInject */\n    function timelines() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/timelines/timelines.html',\n            controller: TimelinesController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function TimelinesController(osApi, $state, $scope, $stateParams, $window, moment, d3) {\n\n            var chart =(function(){\n\n                // SVG Elements + Attributes\n                var svgEl = angular.element(\"#timelines-chart\");\n                var svgWidth = svgEl.width()-100;\n                var svgHeight = svgEl.height();\n                var svgChart = d3.select('#timelines-chart').append(\"svg\").attr(\"width\", \"100%\").attr(\"height\", svgHeight);\n                var svgRange = [0, svgWidth];\n\n                // Axis Elements + Style\n                var axisStyle = {'shape-rendering': 'crispEdges','stroke': 'none'};\n                svgChart.append(\"g\").style(axisStyle)\n                    .attr({\n                        \"class\":\"axisFeature axis\",\n                        \"transform\": \"translate(50, 49)\"\n                    }).call(d3.svg.axis().scale(d3.scale.linear().domain([0, 1]).range([0, svgWidth])).orient('top'));\n                svgChart.append(\"g\").style(axisStyle)\n                    .attr({\n                        \"class\":\"axisTimeline axis\",\n                        \"transform\": \"translate(50, 0)\"\n                    }).call(d3.svg.axis().scale(d3.scale.linear().domain([0, 1]).range([0, svgWidth])).orient('bottom'));\n\n                var barBackground = svgChart.append(\"g\");\n                var barsFeature = svgChart.append(\"g\");\n                var barsTimeline = svgChart.append(\"g\");\n\n\n                // Main Draw Function\n                var draw = function(patientsX, feature, events, sort, align){\n                    \n                    // Filter Patients That Don't Have Alignment Event\n                    var patients = patientsX.filter(function(patient){\n                        return patient.hasOwnProperty(\"__\"+this.name);\n                    }, align);\n\n                    // Sort Patients\n                    patients = patients.sort(function(a,b){\n                        return (a.calcEvents[sort.index].value>b.calcEvents[sort.index].value) ? -1 : 1;\n                    }, sort);\n\n                    // Set Event Start + End Dates Based On Alignment Event\n                    patients.forEach(function(patient){\n                        patient.dateEvents.forEach(function(evt){\n\n                            evt.startValue = evt.start + this;\n                            evt.endValue = (evt.end!=null) ? evt.end +this : null;\n                        }, -patient[\"__\"+this.name].start)\n\n                    }, align);\n\n                    // Draw Graphs\n                    var rowHeight = Math.floor( (svgHeight-100) / patients.length);\n                    if (rowHeight<1) rowHeight = 1;\n                    if (rowHeight>20) rowHeight = 20;\n                    \n                    drawBackground(patients, feature, events, sort, align, rowHeight);\n                    drawFeature(patients, feature, events, sort, align, rowHeight);\n                    drawTimeline(patients, feature, events, sort, align, rowHeight);\n                };\n\n\n                var drawFeature = function(patients, feature, events, sort, align, rowHeight){\n                    var svgFeatures;\n                    if (feature.index==-1){\n                        svgFeatures = svgChart.selectAll(\"rect.feature\")\n                        .data([]);\n                        svgFeatures.exit()\n                        .remove();\n                        return;\n                    }\n                    \n\n                    // Retrieve Min + Max Values\n                    var minmax = [ 0,\n                        d3.max(\n                            patients.map(function(patient){\n                                return patient.calcEvents[this].value\n                            }, feature.index))\n                    ];\n\n                    // Update Axis\n                    var scale = d3.scale.linear()\n                        .domain(minmax)\n                        .range(svgRange);                    \n                    svgChart.transition().duration(750).select('g.axisFeature').call(\n                        d3.svg.axis().scale(scale).orient('top'));\n                    \n                    // Data Bind\n                    svgFeatures = barsFeature.selectAll(\"rect.feature\")\n                        .data(patients);\n\n                    // Update\n                    svgFeatures\n                        .transition()\n                        .duration(300)\n                         .attr({\n                            \"class\": \"feature\",\n                            \"x\": 0,\n                            \"width\": function(d) { return scale(d.calcEvents[feature.index].value); },\n                            \"height\": (rowHeight==1) ? 1 : rowHeight-1\n                        });\n\n                    // Create\n                    svgFeatures\n                        .enter()\n                        .append(\"rect\")\n                        .style( {\"fill\": \"#9AD6F1\"})\n                        .attr({\n                            \"transform\": function(d, i) {return \"translate(50,\" + ((i * rowHeight)+50) + \")\";},\n                            \"class\": \"feature\",\n                            \"x\": 0,\n                            \"width\": function(d) {\n                                return scale(d.calcEvents[feature.index].value);\n                            },\n                            \"height\": (rowHeight==1) ? 1 : rowHeight-1\n                        })\n\n                    // Remove\n                    svgFeatures.exit()\n                      .remove();\n                };\n\n                var drawBackground = function(patients, features, events, sort, align, rowHeight){\n                    angular.element(\".timelines-lbl-events\").css({\"top\": (rowHeight * patients.length) + 100 });\n                    \n                    // Data Bind\n                    var svgFeatures = barBackground.selectAll(\"rect.lines\")\n                        .data(patients);\n\n                    // Create\n                    svgFeatures\n                        .enter()\n                        .append(\"rect\")\n                        .style({'fill':'#EFEFEF'})\n                        .attr({\n                                'width' : svgWidth,\n                                'height' : rowHeight-1,\n                                'class' : 'lines',\n                                'transform': function(d, i) {\n                                 return \"translate(50,\" + ((i * rowHeight)+50) + \")\"; }\n                            });\n\n                    // Remove\n                    svgFeatures\n                        .exit()\n                        .remove();\n                }\n\n                var drawTimeline = function(patients, features, events, sort, align, rowHeight){\n\n                    // Used To Filter Events\n                    var filterEventTypes = events.filter( function(events) { return events.selected; });\n                    var filterDateEvents = function(dateEvents){\n                        return dateEvents.filter(function(dateEvent){\n                            for (var i=0; i<filterEventTypes.length; i++){\n                                if (filterEventTypes[i].name == dateEvent.name) return true;\n                            }\n                            return false;\n                        });\n                    };\n\n                    // Retrive Min + Max Values\n                    var minmax = [\n                        patients\n                        .reduce(function(p, c) {\n                            return Math.min(p, filterDateEvents(c.dateEvents)\n                                .reduce(function(p, c) {\n                                        return Math.min(c.startValue, p)\n                                    },\n                                    Infinity))\n                        }, Infinity),\n\n                        patients\n                        .reduce(function(p, c) {\n                            return Math.max(p, filterDateEvents(c.dateEvents)\n                                .reduce(function(p, c) {\n                                    var val = (c.endValue==null) ? c.startValue : c.endValue;\n                                    return Math.max(val, p)\n                                }, -Infinity))\n                        }, -Infinity)\n                    ];\n\n                    // Update Axis\n                    var scale = \n                        d3.scale.linear()\n                            .domain(minmax)\n                            .range(svgRange);\n                        var axis = svgChart.transition().duration(300).select('g.axisTimeline');\n                        axis.attr({\"transform\": \"translate(50,\"+((rowHeight*patients.length)+49)+\")\"});\n                        axis\n                            .call(d3.svg.axis().scale(scale).orient('bottom')\n                            .tickFormat(function(d) { return moment.unix(d/1000).format(\"MM/DD/YYYY\"); })\n                        );\n                      \n                    // Data Bind Patient\n                    var rows = barsTimeline.selectAll(\"g.timeline\")\n                        .data( patients );\n\n                    rows.enter().append(\"g\")\n                        .attr({\n                                'width' : svgWidth,\n                                'height' : rowHeight-1,\n                                'class' : 'timeline',\n                                'transform': function(d, i) { return \"translate(50,\" + ((i * rowHeight)+50) + \")\"; }\n                            });\n\n                    rows.exit().remove();\n\n                    // Data Bind Event\n                    var cells = rows.selectAll(\"rect.timeline\")\n                        .data( function(d) { return filterDateEvents(d.dateEvents); });\n\n                    cells.enter()\n                        .append(\"rect\")\n                        .style({'opacity':1, 'fill':color})\n                        .attr({\n                            'class':'timeline',\n                            'height': rowHeight,\n                            'width':function(d){ return (d.endValue==null) ? 3 : (scale(d.endValue) - scale(d.startValue)); },\n                            'x': function(d) { return Math.round(scale(d.startValue));}\n                        })\n\n                    cells.transition()\n                        .style({'opacity':1, 'fill':color})\n                        .attr({\n                            'width':function(d){ return (d.endValue==null) ? 3 : (scale(d.endValue) - scale(d.startValue)); },\n                            'x': function(d) { return Math.round(scale(d.startValue));} \n                        });\n\n                    cells.exit().remove();\n\n                }\n                return {\n                    draw:draw\n                }\n            })();\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource;\n            vm.features;\n            vm.feature;\n            vm.events;\n            vm.sorts;\n            vm.sort;\n            vm.align;\n\n            // Static Model\n            var rawdata;\n            var pfApi = osApi.getPatientFilterApi();\n            pfApi.init(vm.datasource);\n            pfApi.onSelect.add(draw);\n\n            // Event Handlers\n            vm.eventClick = function(eventType) {\n                eventType.selected = !eventType.selected;\n                draw();\n            };\n            vm.toggleFilter = function() {\n                angular.element(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                angular.element(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            };\n\n            // Global Refresh Function\n            function draw(){ \n                var data = pfApi.filter(rawdata, function(p){ return p.id });\n                chart.draw(data, vm.feature, vm.events, vm.sort, vm.align);\n            }\n\n            // Elements\n            osApi.setBusy(true)(\"Loading Dataset\");\n            osApi.setDataset(vm.datasource).then(function() {\n                osApi.getTimelines().then(function(response) {\n\n                    // Clean Data + Set Default VM\n                    rawdata = processPatientData(response.payload.pts);\n                    vm.sorts = processFeatureData(rawdata);\n                    vm.sort = vm.sorts[0];\n                    var features = processFeatureData(rawdata);\n                    features.unshift({index:-1, name:'None'});\n                    vm.features =  features;\n                    vm.feature = vm.features[0];\n                    \n                    vm.events = processEventData(response.payload.eventTypes);\n                    vm.align = vm.events[0];\n\n                    // Trigger Redraw on Property Change\n                    $scope.$watchGroup(['vm.feature', 'vm.sort', 'vm.align'], draw);\n                    osApi.setBusy(false);\n                });\n            });\n\n            // Color Mapping\n            var color = function(d){\n                var status = d.name;\n                var rv = \n                    (status===\"Birth\") ?  \"DARKBLUE\" : \n                    (status===\"Diagnosis\") ? \"DARKGREEN\" :\n                    (status===\"Pathology\") ? \"DARKMAGENTA\" :\n                    (status===\"Progression\") ? \"DARKORANGE\" :\n                    (status===\"Absent\") ? \"DARKSLATEBLUE\" :\n                    (status===\"Status\") ? \"DEEPPINK\" :\n                    (status===\"Radiation\") ? \"LIMEGREEN\" :\n                    (status===\"Procedure\") ? \"GOLD\" :\n                    (status===\"Encounter\") ? \"MIDNIGHTBLUE\" :\n                    (status===\"Drug\") ? \"MEDIUMSEAGREEN\" :\n                    \"black\";\n                    return rv;\n            };   \n\n            // Data Clean Up Functions\n            var processEventData = function(events){\n                return Object.keys(events).map(function(v) {\n                        var rv =  { \"name\": v, \"selected\": true };\n                        rv.color = color(rv);\n                        return rv;\n                });\n            }\n            var processFeatureData = function(patients){\n                return patients[0].calcEvents.map(function(d, i) {\n                    return { \"name\": d.name, \"index\": i }\n                });\n            }\n            var processPatientData = function(patients){\n\n                 // Load & Normalize Data (Should be done on server)\n                patients = Object.keys(patients).map(function(key) {\n                    var val = patients[key];\n                    val.id = key;\n                    return val;\n                });\n                for (var i = 0; i < patients.length; i++) {\n\n                    // Create References For Faster Subsequent Lookups\n                    var p = patients[i];\n                    var m = moment;\n                    var mf = \"YYYY-MM-DD\"\n\n                    // Map Start Dates\n                    var dateSingle =\n                        p.dateEvents\n                        .filter(function(d) {\n                            return d.eventOrder === 'single'\n                        })\n                        .map(function(d) {\n                            return {\n                                \"start\": m(d.date, mf).unix() * 1000,\n                                \"end\": null,\n                                \"name\": d.name\n                            };\n                        });\n\n                    // Map Start + End Dates\n                    var endDates = p.dateEvents\n                        .filter(function(d) { return d.eventOrder==='end' })\n                        .map(function(d){ return {\"end\":m(d.date, mf).unix()*1000, \"id\":d.eventID}; });\n                    var startDates = p.dateEvents\n                        .filter(function(d) { return d.eventOrder==='start' })\n                        .map(function(d){ return {\"start\":m(d.date, mf).unix()*1000,\"name\":d.name, \"id\":d.eventID}; });\n                    startDates\n                        .forEach(function(sd){ sd.end = endDates\n                            .filter(function(ed) { return ed.id==sd.id} )[0].end });\n\n                    // Join Single + Multiple Date Events\n                    p.dateEvents = (startDates.length>0) ? startDates.concat(dateSingle) : dateSingle;\n                    p.dateEvents.forEach(function(d){ p[\"__\"+d.name] = d; });\n                }\n                return patients;\n            }\n        }\n    }\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osSurvival', survival);\n\n    /** @ngInject */\n    function survival() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/survival/survival.html',\n            controller: SurvivalController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function SurvivalController(osApi, $state, $timeout, $scope, $stateParams) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource;\n            \n            // Filter\n            var rawData;\n            var pfApi = osApi.getPatientFilterApi();\n            pfApi.init(vm.datasource);\n            pfApi.onSelect.add(draw);\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.setDataset(vm.datasource).then(function() {\n                osApi.getPatientHistoryTable(vm.datasource).then(function(response) {\n                    rawData = response.payload.tbl.map( function (d) { return d[0]; });\n                    draw();\n                });\n            });\n\n            // Draw\n            function draw(){\n                osApi.setBusy(true);\n                var ids = pfApi.filter(rawData, function(p){ return p; });\n                osApi.getCalculatedSurvivalCurves(ids, \"\").then(function(r){\n                        angular.element(\"#survival-img\").attr('src',r.payload);\n                        osApi.setBusy(false);\n                });\n            }\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osSubnav', login);\n\n\n    /** @ngInject */\n    function login() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/subnav/subnav.html',\n            replace: true,\n            controller: SubnavController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function SubnavController(osApi, $state) {\n            \n            var vm = this;\n            vm.tool = \"Pathways\";\n            vm.filter = \"DemoDZ\";\n\n            vm.toolsClick = function(){\n                $state.go(\"tools\", {\n                    datasource: vm.datasource\n                });\n            };\n            \n            vm.cohortClick = function() {\n                osApi.toggleFilter();\n            };\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osPca3d', explore);\n\n    /** @ngInject */\n    function explore() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/pca3d/pca3d.html',\n            controller: Pca3dController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function Pca3dController(osApi, $state, $stateParams, $timeout, $scope, d3, THREE) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n\n            // State\n            var vm = this;\n            vm.datasource = $stateParams.datasource;\n            vm.geneSets = [];\n            vm.geneSet = null;\n            vm.toggleFilter = function() {\n                angular.element(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                angular.element(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n            var rawData;\n            \n            // Elements\n            var elChart = angular.element(\"#pca-chart\");\n\n\n            // Initalizae\n            osApi.setBusy(true)(\"Loading Dataset\");\n            osApi.setDataset(vm.datasource).then(function(response) {\n                var mtx = response.payload.rownames.filter(function(v) {\n                    return v.indexOf(\"mtx.mrna\") >= 0\n                });\n\n                mtx = mtx[mtx.length - 1].replace(\".RData\", \"\");\n                osApi.setBusyMessage(\"Creating PCA Matrix\");\n                osApi.getPCA(vm.datasource, mtx).then(function() {\n                    osApi.setBusyMessage(\"Loading Gene Sets\");\n                    osApi.getGeneSetNames().then(function(response) {\n\n                        // Load Gene Sets\n                        vm.geneSets = response.payload;\n                        vm.geneSet = vm.geneSets[0];\n                        $scope.$watch('vm.geneSet', function() {\n                            update();\n                        });\n                    });\n                });\n            });\n\n            // API Call To Calculate PCA\n            var update = function() {\n                osApi.setBusyMessage(\"Calculating PCA\");\n                osApi.getCalculatedPCA(vm.geneSet).then(function(response) {\n                    osApi.setBusyMessage(\"Rendering PCA\");\n                    var payload = response.payload;\n                    vm.pc1 = response.payload[\"importance.PC1\"];\n                    vm.pc2 = response.payload[\"importance.PC2\"];\n                    var scores = payload.scores;\n                    var ids = payload.ids;\n                    rawData = scores.map(function(d, i){\n                        d.id = ids[i];\n                        return d;\n                    }, payload.ids);\n                    draw()\n                    osApi.setBusy(false);\n                });\n            };\n\n            // Render\n            function draw() {\n            }\n\n\n            var scene = new THREE.Scene();\n            var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );\n\n            var renderer = new THREE.WebGLRenderer();\n            renderer.setSize( window.innerWidth, window.innerHeight );\n            elChart.append( renderer.domElement );\n            var geometry = new THREE.BoxGeometry( 1, 1, 1 );\n            var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\n            var cube = new THREE.Mesh( geometry, material );\n            scene.add( cube );\n            camera.position.z = 5;\n\n            var render = function () {\n                requestAnimationFrame( render );\n\n                cube.rotation.x += 0.1;\n                cube.rotation.y += 0.1;\n\n                renderer.render(scene, camera);\n            };\n            render();\n\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osPlsr', explore);\n\n    /** @ngInject */\n    function explore() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/plsr/plsr.html',\n            controller: PlsrController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function PlsrController(osApi, $state, $stateParams, $timeout, $scope, d3, $sce) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource;\n            vm.deathMinFilter = vm.deathMinValue = 45;\n            vm.deathMaxFilter = vm.deathMaxValue = 66;\n            vm.survivalMinFilter = vm.survivalMinValue = 3;\n            vm.survivalMaxFilter = vm.survivalMaxValue = 7;\n            vm.geneSets = [];\n            vm.geneSet = null;\n            vm.frame;\n            vm.tip = null;\n\n            // VM Event Handlers\n            vm.toggleFilter = function() {\n                angular.element(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                angular.element(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            };\n            vm.update = function() {\n                update();\n            };\n\n            // Elements\n            var elChart = angular.element(\"#plsr-chart\");\n\n            // Chart\n            var chart = (function() {\n\n\n                // Size\n                var margin = {\n                    top: 20,\n                    right: 20,\n                    bottom: 30,\n                    left: 40\n                };\n                var width = elChart.width() - margin.left - margin.right;\n                var height = elChart.height() - margin.top - margin.bottom;\n\n                var svg = d3.select(\"#plsr-chart\").append(\"svg\")\n                    .attr(\"id\", \"chart\")\n                    .attr(\"width\", width)\n                    .attr(\"height\", height);\n\n                var tooltip = svg.append(\"div\")\n                    .style(\"position\", \"absolute\")\n                    .style(\"z-index\", \"10\")\n                    .style(\"visibility\", \"hidden\");\n\n                var lines, circles, text;\n                var xScale, yScale;\n\n                function draw(abs, vectors, genes) {\n                    \n                    var nAbs = -1.0 * abs;\n\n                    xScale = d3.scale.linear().domain([nAbs, abs]).range([0, width])\n                    yScale = d3.scale.linear().domain([nAbs, abs]).range([height, 0])\n\n                    text = svg.selectAll(\"text\").data(vectors);\n\n                    text\n                        .enter().append(\"text\")\n                        .attr({\n                            \"class\": \"text\",\n                            \"x\": function(v) { return xScale(v[0]); },\n                            \"y\": function(v) { return yScale(v[1]); },\n                            \"text-anchor\": function(v) { return (v[0] > 0) ? \"start\" : \"end\" }\n                        })\n                        .text(function(v) { return v.name; })\n                        .style(\"fill\", \"black\");\n\n                    text\n                        .transition()\n                        .duration(900)\n                        .attr({\n                            \"x\": function(v) { return xScale(v[0]); },\n                            \"y\": function(v) { return yScale(v[1]); }\n                        });\n\n                    text\n                        .exit()\n                        .remove();\n                        \n\n                    lines = svg.selectAll(\"line\").data(vectors)\n\n                    lines\n                        .enter()\n                        .append(\"line\")\n                        .attr({\n                            \"class\": \"line\",\n                            \"stroke-width\": 3,\n                            \"x1\": xScale(0),\n                            \"y1\": yScale(0),\n                            \"x2\": function(v) { return xScale(v[0]); },\n                            \"y2\": function(v) { return yScale(v[1]); }\n                        })\n                        .style(\"stroke\", function(d) {\n                            return (d.name.indexOf(\"Age\")) ? \"#1396de\" : \"#38347b\"\n                        });\n\n                    lines\n                        .transition()\n                        .duration(900)\n                        .attr(\"x1\", xScale(0))\n                        .attr(\"y1\", yScale(0))\n                        .attr(\"x2\", function(v) {\n                            return xScale(v[0]);\n                        })\n                        .attr(\"y2\", function(v) {\n                            return yScale(v[1]);\n                        });\n\n                    lines\n                        .exit().remove();\n                  \n                    circles = svg.selectAll(\"circle\").data(genes);\n\n                    circles\n                        .enter()\n                        .append(\"circle\")\n                        .attr({\n                            \"cx\": function(d) { return xScale(d[0]); },\n                            \"cy\": function(d) { return yScale(d[1]); },\n                            \"r\": 3\n                        })\n                        .style({\n                            'fill': 'black',\n                            'opacity': 1\n                        })\n                        .on(\"click\", function(d) {\n                            angular.element('#plsr-webpage').modal();\n                            var url = \"http://www.genecards.org/cgi-bin/carddisp.pl?gene=\" + d.name;\n                            $scope.$apply(function() {\n                                vm.frame = $sce.trustAsResourceUrl(url);\n                            });\n                        })\n                        .on(\"mouseover\", function(d) {\n                            var pt = d3.mouse(this);\n                            tooltip\n                                .text(d.name)\n                                .style(\"top\", (pt[1] + 160) + \"px\")\n                                .style(\"left\", (pt[0] + 10) + \"px\")\n                                .style(\"visibility\", \"visible\");\n                        })\n                        .on(\"mousemove\", function() {\n                            var pt = d3.mouse(this);\n                            tooltip\n                                .style(\"top\", (pt[1] + 160) + \"px\")\n                                .style(\"left\", (pt[0] + 10) + \"px\");\n                        })\n                        .on(\"mouseout\", function() {\n                            return tooltip.style(\"visibility\", \"hidden\");\n                        })\n\n\n                    circles\n                        .transition()\n                        .duration(900)\n                        .each(\"start\", function() { d3.select(this) })\n                        .delay(function(d, i) {\n                            return i / genes.length * 500; // Dynamic delay (i.e. each item delays a little longer)\n                        })\n                        .attr(\"cx\", function(d) { return xScale(d[0]);  })\n                        .attr(\"cy\", function(d) { return yScale(d[1]);  })\n                        .each(\"end\", function() { // End animation\n                            d3.select(this) // 'this' means the current element\n                                .transition()\n                                .duration(500)\n                                .style(\"fill\", \"black\") // Change color\n                                .attr(\"r\", 3); // Change radius\n                        })\n\n                    circles\n                        .exit().remove();\n\n                }\n\n                function update(abs, vectors, genes) {\n\n                    text\n                        .data(vectors)\n                        .transition()\n                        .duration(900)\n                        .attr(\"x\", function(v) {\n                            return xScale(v[0]);\n                        })\n                        .attr(\"y\", function(v) {\n                            return yScale(v[1]);\n                        })\n\n\n\n                    lines\n                        .data(vectors)\n                        .transition()\n                        .duration(900)\n                        .attr(\"x1\", xScale(0))\n                        .attr(\"y1\", yScale(0))\n                        .attr(\"x2\", function(v) {\n                            return xScale(v[0]);\n                        })\n                        .attr(\"y2\", function(v) {\n                            return yScale(v[1]);\n                        });\n\n\n                    circles\n                        .data(genes); // Update with new data\n                        \n\n                    circles\n                        .transition()\n                        .duration(900)\n                        .each(\"start\", function() { // Start animation\n                            d3.select(this) // 'this' means the current element\n                                //.style(\"fill\", \"000\")  // Change color\n                                //.attr(\"r\", 2);  // Change size\n                        })\n                        .delay(function(d, i) {\n                            return i / genes.length * 500; // Dynamic delay (i.e. each item delays a little longer)\n                        })\n                        //.ease(\"linear\")  // Transition easing - default 'variable' (i.e. has acceleration), also: 'circle', 'elastic', 'bounce', 'linear'\n                        .attr(\"cx\", function(d) {\n                            return xScale(d[0]); // Circle's X\n                        })\n                        .attr(\"cy\", function(d) {\n                            return yScale(d[1]); // Circle's Y\n                        })\n                        .each(\"end\", function() { // End animation\n                            d3.select(this) // 'this' means the current element\n                                .transition()\n                                .duration(500)\n                                .style(\"fill\", \"black\") // Change color\n                                .attr(\"r\", 3); // Change radius\n                        })\n                }\n\n\n\n                return {\n                    draw: draw\n\n                }\n            })(\"#plsr-chart\");\n\n\n\n\n            // Load Data\n            osApi.setBusy(true)(\"Loading Dataset\");\n            osApi.setDataset(vm.datasource).then(function(response) {\n                var mtx = response.payload.rownames.filter(function(v) {\n                    return v.indexOf(\"mtx.mrna\") >= 0\n                });\n                mtx = mtx[mtx.length - 1].replace(\".RData\", \"\");\n                osApi.setBusyMessage(\"Creating PLSR Matrix\");\n                osApi.getPLSR(vm.datasource, mtx).then(function() {\n                    osApi.setBusyMessage(\"Loading Gene Sets\");\n                    osApi.getGeneSetNames().then(function(response) {\n\n                        // Load Gene Sets\n                        vm.geneSets = response.payload;\n                        vm.geneSet = vm.geneSets[0];\n                        osApi.setBusyMessage(\"Loading Patients\");\n                        osApi.getSummarizedPLSRPatientAttributes().then(function(response) {\n\n                            // Load Min Max Values\n                            var payload = response.payload;\n                            vm.deathMinValue = Math.floor(payload.AgeDx[0] / 365.24);\n                            vm.deathMaxValue = Math.floor(payload.AgeDx[4] / 365.24);\n                            vm.survivalMinValue = Math.floor(payload.Survival[0] / 365.24);\n                            vm.survivalMaxValue = Math.floor(payload.Survival[4] / 365.24);\n                            $scope.$watch('vm.geneSet', function() {\n                                update();\n                            });\n                        });\n                    });\n                });\n            });\n\n\n            // API Call To Calculate PLSR\n            var update = function() {\n                osApi.setBusyMessage(\"Calculating PLSR\");\n                var factors = [{\n                    name: \"Survival\",\n                    low: Number(vm.survivalMinFilter) * 365.24,\n                    high: Number(vm.survivalMaxFilter) * 365.24\n                }, {\n                    name: \"AgeDx\",\n                    low: Number(vm.deathMinFilter) * 365.24,\n                    high: Number(vm.deathMaxFilter) * 365.24\n                }];\n\n                osApi.getCalculatedPLSR(vm.geneSet, factors).then(function(response) {\n                    osApi.setBusyMessage(\"Rendering PLSR\");\n\n                    // Clean Up Data\n                    var payload = response.payload;\n                    var genes = payload.loadings.map(function(item, index) {\n                        item.name = payload.loadingNames[index];\n                        return item;\n                    });\n                    var vectors = payload.vectors.map(function(item, index) {\n                        item.name = payload.vectorNames[index];\n                        return item;\n                    });\n                    var abs = payload.maxValue * 1.2;\n\n\n                    chart.draw(abs, vectors, genes);\n                    \n                    osApi.setBusy(false);\n                });\n            };\n\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osPca', explore);\n\n    /** @ngInject */\n    function explore() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/pca/pca.html',\n            controller: PcaController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function PcaController(osApi, $state, $stateParams, $timeout, $scope, d3) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n\n            // State\n            var vm = this;\n            vm.datasource = $stateParams.datasource;\n            vm.geneSets = [];\n            vm.geneSet = null;\n            vm.toggleFilter = function() {\n                angular.element(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                angular.element(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n\n            // Filters\n            var rawData;\n            var pfApi = osApi.getPatientFilterApi();\n            pfApi.init(vm.datasource);\n            pfApi.onSelect.add(draw);\n\n            vm.cohort;\n            vm.createCohort = function() {\n                pfApi.addFilter(vm.cohort, d3.selectAll(\".pca-node-selected\")[0].map(function(data) { return data.__data__.id }) );\n                vm.cohort = \"\";\n            };\n\n\n            // Elements\n            var elChart = angular.element(\"#pca-chart\");\n            var d3Chart = d3.select(\"#pca-chart\")\n                .append(\"svg\")\n                .attr(\"id\", \"chart\");\n\n            var d3xAxis = d3Chart.append(\"g\");\n            var d3yAxis = d3Chart.append(\"g\");\n            \n            var d3Tooltip = d3.select(\"body\")\n                .append(\"div\")\n                .attr(\"class\", \"tooltip\")\n\n\n            // Initalizae\n            osApi.setBusy(true)(\"Loading Dataset\");\n            osApi.setDataset(vm.datasource).then(function(response) {\n                var mtx = response.payload.rownames.filter(function(v) {\n                    return v.indexOf(\"mtx.mrna\") >= 0\n                });\n\n                mtx = mtx[mtx.length - 1].replace(\".RData\", \"\");\n                osApi.setBusyMessage(\"Creating PCA Matrix\");\n                osApi.getPCA(vm.datasource, mtx).then(function() {\n                    osApi.setBusyMessage(\"Loading Gene Sets\");\n                    osApi.getGeneSetNames().then(function(response) {\n\n                        // Load Gene Sets\n                        vm.geneSets = response.payload;\n                        vm.geneSet = vm.geneSets[0];\n                        $scope.$watch('vm.geneSet', function() {\n                            update();\n                        });\n                    });\n                });\n            });\n\n            // API Call To Calculate PCA\n            var update = function() {\n                osApi.setBusyMessage(\"Calculating PCA\");\n                osApi.getCalculatedPCA(vm.geneSet).then(function(response) {\n                    osApi.setBusyMessage(\"Rendering PCA\");\n                    var payload = response.payload;\n                    vm.pc1 = response.payload[\"importance.PC1\"];\n                    vm.pc2 = response.payload[\"importance.PC2\"];\n                    var scores = payload.scores;\n                    var ids = payload.ids;\n                    rawData = scores.map(function(d, i){\n                        d.id = ids[i];\n                        return d;\n                    }, payload.ids);\n                    draw()\n                    osApi.setBusy(false);\n                });\n            };\n\n            // Render\n            function draw() {\n                \n                var dataset = rawData;\n\n                var width = elChart.width();\n                var height = elChart.height();\n\n                var max, min;\n                max = Math.abs(d3.max(dataset, function(d) {\n                    return +d[0];\n                }));\n                min = Math.abs(d3.min(dataset, function(d) {\n                    return +d[0];\n                }));\n                var xMax = ((max > min) ? max : min) * 1.2;\n                max = Math.abs(d3.max(dataset, function(d) {\n                    return +d[1];\n                }));\n                min = Math.abs(d3.min(dataset, function(d) {\n                    return +d[1];\n                }));\n                var yMax = ((max > min) ? max : min) * 1.2;\n\n                var xScale = d3.scale.linear()\n                    .domain([-xMax, xMax])\n                    .range([0, width]);\n\n                var yScale = d3.scale.linear()\n                    .domain([-yMax, yMax])\n                    .range([height, 0]);\n\n                var xAxis = d3.svg.axis()\n                    .scale(xScale)\n                    .orient(\"top\")\n                    .ticks(5);\n\n                var yAxis = d3.svg.axis()\n                    .scale(yScale)\n                    .orient(\"left\")\n                    .ticks(5);\n\n                // Brush\n                var brush = d3.svg.brush()\n                   .x(xScale)\n                   .y(yScale)\n                   .on(\"brushend\", function(){\n                        var bv = brush.extent();\n                        d3Chart.selectAll(\"circle\")\n                            .classed(\"pca-node-selected\", function(d){\n                                return (d[0] > bv[0][0] && d[0] < bv[1][0] && d[1] > bv[0][1] && d[1] < bv[1][1]);                                \n                            });\n                        d3.select(this).transition().duration(300)\n                            .call( brush.extent([[0,0],[0,0]]) );\n                   });\n\n                d3Chart.call(brush);\n\n                dataset = pfApi.filter(rawData, function(p){ return p.id });\n                \n                d3Chart\n                    .attr(\"width\", width)\n                    .attr(\"height\", height);\n\n                var circles = d3Chart.selectAll(\"circle\").data(dataset, function(d) {\n                    return d;\n                })\n                circles.enter()\n                    .append(\"circle\")\n                    .attr(\"class\",\"pca-node\")\n                    .attr(\"cx\", width * .5)\n                    .attr(\"cy\", height * .5)\n                    .attr(\"r\", function() {\n                        return 3;\n                    })\n                    .style(\"fill-opacity\", \"0\")\n                    .on(\"mouseover\", function(d) {\n                        d3Tooltip.transition()        \n                            .duration(200)      \n                            .style(\"opacity\", 1);      \n                        d3Tooltip.html(d.id)  \n                            .style(\"left\", (d3.event.pageX+10) + \"px\")     \n                            .style(\"top\", (d3.event.pageY-5) + \"px\");    \n                    })                  \n                    .on(\"mouseout\", function(){\n                        d3Tooltip.transition()      \n                            .duration(500)      \n                            .style(\"opacity\", 0);   \n                    })\n                    .transition()\n                    .duration(750)\n                    .delay(function(d, i) {\n                        return i / 300 * 500;\n                    })\n                    .attr(\"cx\", function(d) {\n                        return xScale(d[0]);\n                    })\n                    .attr(\"cy\", function(d) {\n                        return yScale(d[1]);\n                    })\n                    .style(\"fill-opacity\", 1)\n                    \n\n                circles.exit()\n                    .transition()\n                    .duration(600)\n                    .delay(function(d, i) {\n                        return i / 300 * 500;\n                    })\n                    .attr(\"cx\", width * .5)\n                    .attr(\"cy\", height * .5)\n                    .style(\"fill-opacity\", \"0\")\n                    .remove();\n\n\n                d3xAxis\n                    .attr(\"class\", \"axis\")\n                    .attr(\"transform\", \"translate(0, \" + yScale(0) + \")\")\n                    .call(xAxis)\n                    .append(\"text\")\n                    .text(\"PC1\");\n\n                d3yAxis\n                    .attr(\"class\", \"axis\")\n                    .attr(\"transform\", \"translate(\" + xScale(0) + \", 0)\")\n                    .call(yAxis)\n                    .append(\"text\")\n                    .attr(\"y\", 10)\n                    .attr(\"dy\", \".71em\")\n                    .text(\"PC2\");\n            }\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osPathways', pathways);\n\n    /** @ngInject */\n    function pathways() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/pathways/pathways.html',\n            controller: PathwaysController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function PathwaysController(osApi, $state, $stateParams, $scope, $sce, cytoscape) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n            var markersNetwork;\n            var vm = this;\n            vm.datasource = $stateParams.datasource;\n            vm.toggleFilter = function() {\n                angular.element(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                angular.element(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n            vm.search = \"\";\n            vm.frame;\n            vm.tip = null;\n\n            // Elements\n            var elChart = angular.element(\"#gbm-chart\");\n            var csChart;\n\n            $scope.$watch('vm.search', function() {\n                if (angular.isUndefined(csChart)) return;\n                var term = vm.search.toUpperCase();\n                var len = term.length;\n                csChart.nodes().map(function(ele) {\n                    if (len == 0) {\n                        ele.unselect();\n                    } else if (ele.attr(\"name\").substr(0, len) === term) {\n                        ele.select();\n                    } else {\n                        ele.unselect();\n                    }\n                });\n\n            });\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.setDataset(vm.datasource).then(function() {\n                osApi.getPathway().then(function(response) {\n\n                    markersNetwork = angular.fromJson(response.payload);\n                    csChart = cytoscape({\n                            container: elChart,\n                            elements: markersNetwork.elements,\n                            style: getStyle(),\n                            layout: {\n                                name: \"preset\",\n                                fit: true\n                            }\n                        })\n                        .on('click', 'node', function(e) {\n                            angular.element('#gbm-webpage').modal();\n                            var url = \"http://www.genecards.org/cgi-bin/carddisp.pl?gene=\" + e.cyTarget.data().id;\n                            $scope.$apply(function() {\n                                vm.frame = $sce.trustAsResourceUrl(url);\n                            });\n                        })\n                        .on('click', 'edge', function(e) {\n                            angular.element('#gbm-webpage').modal();\n                            var url = \"http://www.ncbi.nlm.nih.gov/pubmed/?term=\" + e.cyTarget.data().pmid;\n                            $scope.$apply(function() {\n                                vm.frame = $sce.trustAsResourceUrl(url);\n                            });\n\n                        }).on('mouseover', 'edge', function(e) {\n                            $scope.$apply(function() {\n                                vm.tip = e.cyTarget.data().source + \" Extract\";\n                            });\n\n                            e.cyTarget.style({\n                                'width': '4px'\n                            });\n                        }).on('mouseout', 'edge', function(e) {\n                            $scope.$apply(function() {\n                                vm.tip = null;\n                            });\n                            e.cyTarget.style({\n                                'width': '2px'\n                            });\n                        }).on('mouseover', 'node', function(e) {\n                            $scope.$apply(function() {\n                                vm.tip = e.cyTarget.data().name + \" Gene Card\";\n                            });\n                        }).on('mouseout', 'node', function() {\n                            $scope.$apply(function() {\n                                vm.tip = null;\n                            });\n                        })\n\n\n\n                    osApi.setBusy(false);\n                });\n            });\n\n\n            function getStyle() {\n                var darkblue = 'rgb(5, 108, 225)';\n                var red = 'red'; //rgb(230, 44, 28)';\n                var purple = 'rgb(56, 52,123)';\n                var green = 'green'; //'rgb(56, 52,123)';//'rgb(28, 230,116)';//'green';\n                return [{\n                        'selector': 'node',\n                        'style': {\n                            'content': 'data(label)',\n                            'text-valign': 'center',\n                            'text-halign': 'center',\n                            'shape': 'ellipse',\n                            'width': '60px',\n                            'height': '50px',\n                            'color': darkblue,\n                            'background-color': 'rgb(250, 250, 250)',\n                            'border-width': '2px',\n                            'border-color': darkblue\n\n                        }\n                    }, {\n                        'selector': 'edge',\n                        'style': {\n                            'width': '2px',\n                            'line-color': darkblue,\n                            'line-style': 'solid'\n                        }\n                    },\n                    // Boxes\n                    {\n                        'selector': 'node[nodeType=\"class\"], node[nodeType=\"family\"], node[nodeType=\"complex\"]',\n                        'style': {\n                            'content': '',\n                            'background-color': 'white',\n                            'shape': 'roundrectangle'\n\n                        }\n                    },\n                    // Blue Activiates & Indirect Activates\n                    {\n                        'selector': 'edge[edgeType=\"activates\"], edge[edgeType=\"indirectly activates\"]',\n                        'style': {\n                            'line-color': green,\n                            'target-arrow-shape': 'triangle',\n                            'target-arrow-color': green\n                        }\n                    },\n                    // Inhibits & Ubiquitinylates\n                    {\n                        'selector': 'edge[edgeType=\"inhibits\"], edge[edgeType=\"ubiquitinylates\"]',\n                        'style': {\n                            'line-color': red,\n                            'target-arrow-shape': 'tee',\n                            'target-arrow-color': red\n                        }\n                    },\n                    // Fusion\n                    {\n                        'selector': 'edge[edgeType=\"fusion\"]',\n                        'style': {\n                            'line-color': green\n                        }\n                    },\n                    // Hide\n                    {\n                        'selector': 'edge[edgeType=\"contains\"]',\n                        'style': {\n                            'display': 'none'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"process\"]',\n                        'style': {}\n                    }, {\n                        'selector': 'node:selected',\n                        'style': {\n                            'overlay-opacity': '0.5',\n                            'overlay-color': 'red'\n                        }\n                    },\n\n                    // Legacy ... Not sure if it's being used\n                    {\n                        'selector': 'node[nodeType=\"rtk\"]',\n                        'style': {\n                            'content': 'data(label)',\n                            'background-color': 'rgb(224, 209, 178)',\n                            'border-color': 'black',\n                            'border-width': '0px',\n                            'font-size': '48px',\n                            'shape': 'roundrectangle',\n                            'width': '40px',\n                            'height': '160px'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"kinase\"]',\n                        'style': {\n                            'content': 'data(label)',\n                            'background-color': 'rgb(255, 206, 194)',\n                            'shape': 'ellipse',\n                            'width': '160px',\n                            'height': '120px',\n                            'font-size': '48px',\n                            'border-color': 'black',\n                            'border-width': '1px'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"dimer\"]',\n                        'style': {\n                            'content': '',\n                            'background-color': 'rgb(234, 219, 188)',\n                            'shape': 'ellipse',\n                            'width': '160px',\n                            'height': '120px',\n                            'font-size': '48px',\n                            'border-color': 'black',\n                            'border-width': '0px'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"loop\"]',\n                        'style': {\n                            'content': '',\n                            'background-color': 'rgb(255, 255, 255)',\n                            'shape': 'ellipse',\n                            'width': '160px',\n                            'height': '120px',\n                            'font-size': '48px',\n                            'border-color': 'black',\n                            'border-width': '1px',\n                            'border-style': 'dotted'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"gtpase\"]',\n                        'style': {\n                            'content': 'data(label)',\n                            'background-color': 'rgb(194, 194, 255)',\n                            'shape': 'ellipse',\n                            'width': '160px',\n                            'height': '120px',\n                            'font-size': '48px',\n                            'border-color': 'black',\n                            'border-width': '1px'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"adaptor\"]',\n                        'style': {\n                            'content': 'data(label)',\n                            'background-color': 'rgb(77, 184, 255)',\n                            'shape': 'ellipse',\n                            'width': '60px',\n                            'height': '120px',\n                            'font-size': '48px',\n                            'border-color': 'black',\n                            'border-width': '1px'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"GEF\"]',\n                        'style': {\n                            'content': 'data(label)',\n                            'background-color': 'rgb(77, 184, 255)',\n                            'shape': 'ellipse',\n                            'width': '60px',\n                            'height': '60px',\n                            'font-size': '48px',\n                            'border-color': 'black',\n                            'border-width': '1px'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"process\"]',\n                        'style': {\n                            'content': 'data(label)',\n                            'background-color': 'rgb(255, 255, 255)',\n                            'shape': 'roundrectangle',\n                            'width': '100px',\n                            'height': '40px',\n                            'font-size': '24px',\n                            'border-color': 'black',\n                            'border-width': '0px'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"TF\"]',\n                        'style': {\n                            'content': 'data(label)',\n                            'background-color': 'rgb(255, 206, 94)',\n                            'shape': 'diamond',\n                            'width': '160px',\n                            'height': '60px',\n                            'font-size': '48px',\n                            'border-color': 'black',\n                            'border-width': '1px'\n                        }\n                    }, {\n                        'selector': 'node[nodeType=\"gene fusion\"]',\n                        'style': {\n                            'content': 'data(label)',\n                            'shape': 'roundrectangle',\n                            'font-size': '24px',\n                            'border-color': 'red',\n                            'border-width': '3px'\n                        }\n                    }, {\n                        'selector': 'edge:selected',\n                        'style': {\n                            'overlay-color': 'grey',\n                            'overlay-opacity': '0.3'\n                        }\n                    }, {\n                        'selector': 'edge[edgeType=\"recruits\"]',\n                        'style': {\n                            'width': '2px'\n                        }\n                    }, {\n                        'selector': 'edge[edgeType=\"fusion\"]',\n                        'style': {\n                            'line-color': purple\n                        }\n                    }, {\n                        'selector': 'edge[edgeType=\"recruits\"]',\n                        'style': {\n                            'line-color': 'red',\n                            'width': '1px',\n                            'line-style': 'dashed',\n                            'target-arrow-shape': 'triangle',\n                            'target-arrow-color': 'black'\n                        }\n                    }, {\n                        'selector': 'edge[edgeType=\"cycles\"]',\n                        'style': {\n                            'line-color': 'black',\n                            'width': '1px',\n                            'line-style': 'dashed',\n                            'target-arrow-shape': 'triangle',\n                            'source-arrow-shape': 'triangle',\n                            'target-arrow-color': 'green',\n                            'source-arrow-color': 'red'\n                        }\n                    }, {\n                        'selector': 'edge[edgeType=\"associates\"]',\n                        'style': {\n                            'line-color': 'black',\n                            'width': '1px',\n                            'line-style': 'solid'\n                        }\n                    }, {\n                        'selector': 'edge[edgeType=\"activation\"]',\n                        'style': {\n                            'line-color': 'green',\n                            'width': '1px'\n                        }\n                    }, {\n                        'selector': 'edge[edgeType=\"inhibition\"]',\n                        'style': {\n                            'line-color': 'red',\n                            'width': '1px'\n                        }\n                    }\n                ]\n\n            }\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .factory('osSocket', oncoscape);\n\n    /** @ngInject */\n    function oncoscape(SockJS, $rootScope, $q, $log, $location) {\n       \n        // Object To Store Call Back Promises\n        var callbacks = {};\n\n        // Request Ids Used To Coorelate Request With Callback\n        var requestId = 1;\n        var getRequestId = function() { \n            if (requestId==9999) requestId = 1;\n            return requestId++; \n        }\n\n        // Create Sock JS Instace\n        var socket = new SockJS(\n            $location.protocol()+\"://\"+$location.host()+\":\"+ (($location.port()==\"3002\") ? 80 : $location.port()) +'/oncoscape','',\n            {\n                'debug': false,\n                'devel': false\n            }\n        );\n\n        // Handle Messages From Socket & Resolve Promise\n        socket.onmessage = function(event) {\n            var data = angular.fromJson(event.data);\n            if (angular.isDefined(callbacks[data.cmd])) {\n                var callback = callbacks[data.cmd];\n                delete callbacks[data.cmd];\n                callback.resolve(data);\n            } else {\n\n                $log.error(\"Unhandled message: %o\", data);\n            }\n        };\n\n        // Formulate Request\n        var request = function(request) {\n\n            // Add Additional Information To Request Per Chinook Protocol\n            request.callback = getRequestId();\n            request.status = \"request\";\n            request.payload = request.payload || \"\";\n\n            // Store Promise In Callback Object\n            var deferred = $q.defer();\n            callbacks[request.callback] = deferred;\n\n            // Ensure Socket Is Open Before Sending\n            if (socket.readyState===0){\n                socket.onopen = function(){\n                    socket.send(angular.toJson(request));    \n                };\n            }else{\n                socket.send(angular.toJson(request));\n            }\n\n            // Return Promise\n            return deferred.promise.then(function(response) {\n                request.response = response;\n                return response;\n            });\n        }\n\n        // Return Object\n        return {\n            request: request\n        };\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .service('osApi', oncoscape);\n\n    /** @ngInject */\n    function oncoscape(osSocket, $http, signals) {\n\n        var _dataSource;\n        var onDataSource = new signals.Signal();\n        function getDataSource(){ return _dataSource; }\n        function setDataSource(value){\n            _dataSource = value;\n            onDataSource.dispatch(_dataSource);\n        }\n\n\n\n        /*** User Api ***/\n        function userApi(){\n\n            // Events\n            var onLogin = new signals.Signal(); // Fired When Data Changes\n            var onLogout = new signals.Signal(); // Fired When Selection changes\n\n            var _user = {\n                \"name\":\"\",\n                \"password\":\"\",\n                \"domain\":{\"name\":\"Guest\"},\n                \"authenticated\":false,\n                \"token\": null \n            };\n            var _domains = [\n                { \"name\": \"Guest\" },\n                { \"name\": \"FHCRC\" },\n                { \"name\": \"SCCA\" }\n            ];\n            var logout = function(){\n                _user.name = \"\";\n                _user.password = \"\";\n                _user.domain = {\"name\":\"Guest\"};\n                _user.authenticated = false;\n                _user.token = null \n                onLogout.dispatch();\n            }\n            var login = function(user){\n                _user = user;\n                if (user.domain.name==\"Guest\"){\n                    _user.authenticated = true;\n                    _user.token = \"Guest\";\n                    onLogin.dispatch(_user);\n                    return;\n                }\n                var req = {\n                    method: 'POST',\n                    url: '/login/',\n                    data: {\n                        username: _user.name,\n                        password: _user.password,\n                        domain: _user.domain.name\n                    }\n                };\n                return $http(req).then(function(res) {\n                    if (res.data.success) {\n                        _user.authenticated = true;\n                        _user.token = res.data.token;\n                        onLogin.dispatch(_user);\n                    } else {\n                        _user.authenticated = false;\n                        _user.token =null;\n                    }\n                });\n            }\n            return {\n                getDomains: function(){ return _domains; },\n                getUser: function() { return _user; },\n                login: login,\n                logout: logout,\n                onLogin: onLogin,\n                onLogout: onLogout\n            }\n        }\n        var _userApi = userApi();\n        function getUserApi() { return _userApi; }\n\n\n\n/*** UI Functions ***/\n        function setBusy(value) {\n            if (value) {\n                angular.element(\".loader-modal\").show();\n            } else {\n                angular.element(\".loader-modal\").hide();\n            }\n            return setBusyMessage;\n        }\n        function setBusyMessage() {\n            //console.log(value);\n        }\n        function showFilter() {\n            angular.element(\"#filter-dropdown\").slideToggle();\n        }\n        function hideFilter() {\n            angular.element(\"#filter-dropdown\").slideToggle();\n        }\n        function toggleFilter(){\n            angular.element(\"#filter-dropdown\").slideToggle();\n        }\n\n        \n\n\n        /*** R Service Calls ***/\n        function setDataset(dataPackage) {\n            return osSocket.request({\n                cmd: \"specifyCurrentDataset\",\n                payload: dataPackage\n            });\n        }\n        function getDataSetNames() {\n            return osSocket.request({\n                cmd: \"getDataSetNames\"\n            });\n        }\n        function getDataManifest(dataPackage) {\n            return osSocket.request({\n                cmd: \"getDataManifest\",\n                payload: dataPackage\n            });\n        }\n        function getPatientHistoryTable(dataPackage) {\n            return osSocket.request({\n                cmd: \"getPatientHistoryTable\",\n                payload: {\n                    datasetName: dataPackage,\n                    durationFormat: \"byYear\"\n                }\n            });\n        }\n        function getPatientHistoryDxAndSurvivalMinMax() {}\n        function getSampleDataFrame() {}\n        function getGeneSetNames() {\n            return osSocket.request({\n                cmd: \"getGeneSetNames\"\n            });\n        }\n        function getSampleCategorizationNames() {\n            return osSocket.request({\n                cmd: 'getSampleCategorizationNames'\n            });\n        }\n        function getSampleCategorization(names) {\n            return osSocket.request({\n                cmd: 'getSampleCategorization',\n                payload: names\n            });\n        }\n        function getMarkersNetwork(payload) {\n            // Payload is return From Set DataSource\n            return osSocket.request({\n                cmd: \"getMarkersNetwork\",\n                payload: payload\n            })\n        }\n        function getDrugGeneInteractions() {}\n        function getCanonicalizePatientIDsInDataset(patientIds) {\n            return osSocket.request({\n                cmd: \"getCanonicalizePatientIDsInDataset\",\n                payload: patientIds\n            });\n        }\n        function getGeneSetGenes() {}\n        function getOncoprintDataSelection() {}\n        function getPCA(dataPackage, matrixName) {\n            var payload = {\n                dataPackage: dataPackage,\n                matrixName: matrixName\n            };\n            return osSocket.request({\n                cmd: \"createPCA\",\n                payload: payload\n            });\n        }\n        function getCalculatedPCA(geneSet) {\n            var payload = {\n                genes: geneSet\n            };\n            return osSocket.request({\n                cmd: \"calculatePCA\",\n                payload: payload\n            });\n        }\n        function getPLSR(dataPackage, matrixName) {\n            var payload = {\n                dataPackage: dataPackage,\n                matrixName: matrixName\n            };\n            return osSocket.request({\n                cmd: \"createPLSR\",\n                payload: payload\n            });\n        }\n        function getCalculatedPLSR(geneSet, factors) {\n            var payload = {\n                genes: geneSet,\n                factorCount: factors.length,\n                factors: factors\n            };\n            return osSocket.request({\n                cmd: \"calculatePLSR\",\n                payload: payload\n            });\n        }\n        function getSummarizedPLSRPatientAttributes(attrs) {\n            attrs = attrs || ['AgeDx', 'Survival'];\n            return osSocket.request({\n                cmd: 'summarizePLSRPatientAttributes',\n                payload: attrs\n            });\n        }\n        function getCalculatedSurvivalCurves(patientIds, title) {\n            return osSocket.request({\n                cmd: \"calculateSurvivalCurves\",\n                payload: {\n                    sampleIDs: patientIds,\n                    title: title\n                }\n            });\n        }\n        function getTimelines() {\n            return osSocket.request({\n                cmd: \"createTimelines\"\n            });\n        }\n        function getCalculatedTimelines() {}\n        function getModuleModificationDate() {\n            return osSocket.request({\n                cmd: \"getModuleModificationDate\",\n                payload: 'gbmPathways'\n            });\n        }\n        function getPathway() {\n            return osSocket.request({\n                cmd: \"getPathway\",\n                payload: 'g.gbmPathways.json'\n            });\n        }\n        function getMrnaData(entities, features) {\n            return osSocket.request({\n                cmd: \"get_mRNA_data\",\n                payload: {\n                    entities: entities,\n                    features: features\n                }\n            });\n        }\n        function getCnvData(entities, features) {\n            return osSocket.request({\n                cmd: \"get_cnv_data\",\n                payload: {\n                    entities: entities,\n                    features: features\n                }\n            });\n        }\n        function getMutationData(entities, features) {\n            return osSocket.request({\n                cmd: \"get_mutation_data\",\n                payload: {\n                    entities: entities,\n                    features: features\n                }\n            });\n        }\n\n        /*** Filter Api ***/\n        var _patientFilterApi = filter();\n        function getPatientFilterApi() { return _patientFilterApi; }\n        function filter(){\n\n            var _dataSource = null;\n            var _filterTree = null;\n            var _filter = null;\n            var _serialize = function (o){\n                var sb = \"{\";\n                sb += '\"name\":\"'+o.name+'\"';\n                sb += ',\"ids\":';\n                sb += (typeof(o.ids)==\"string\") ? '\"*\"' : '[\"'+o.ids.join('\",\"')+'\"]';\n                if (o.hasOwnProperty(\"children\")){\n                    sb += ',\"children\":[';\n                    for (var i=0; i<o.children.length; i++){\n                        if (i>0) sb += \",\";\n                        sb += _serialize(o.children[i]);\n                    }\n                    sb += ']';\n                }\n                sb += \"}\";\n                return sb;\n            };\n\n            function init(dataSource){\n                if (_dataSource==dataSource) return;\n                _dataSource = dataSource;\n                 _filterTree = angular.fromJson(localStorage.getItem(dataSource));\n                if (!_filterTree) _filterTree = {name:dataSource, ids:'*' };\n                _filter = _filterTree;\n            }\n            function delFilter(){}\n            function addFilter(name, ids){\n                var filter = {\n                    name:name,\n                    ids:ids\n                };\n                if (!_filter.hasOwnProperty(\"children\")) _filter.children = [];\n                _filter.children.push(filter);\n                _filter = filter;\n                onChange.dispatch(_filterTree);\n                onSelect.dispatch(_filter);\n                localStorage.setItem(_dataSource, _serialize(_filterTree));\n            }\n            function getActiveFilter(){\n                return _filter;\n            }\n\n            function setActiveFilter(filter){\n                _filter = filter;\n                onSelect.dispatch(_filter);\n            }\n\n            function getFilterTree(){\n                return _filterTree;\n            }\n\n            function filter(data, idFn){\n                if (_filter.ids==\"*\") return data;\n\n                return data.filter(function(p){\n                    for (var i=0; i<_filter.ids.length; i++){\n                        if (idFn(p) == _filter.ids[i]) return true;\n                    }\n                    return false;\n                });\n            }\n\n            // Events\n            var onChange = new signals.Signal(); // Fired When Data Changes\n            var onSelect = new signals.Signal(); // Fired When Selection changes\n\n            return {\n                init : init,\n                filter : filter,\n                getActiveFilter : getActiveFilter,\n                setActiveFilter : setActiveFilter,\n                addFilter: addFilter,\n                delFilter: delFilter,\n                getFilterTree : getFilterTree,\n                onChange : onChange,\n                onSelect : onSelect\n            };\n                \n        }\n  \n        return {\n            setDataSource: setDataSource,\n            getDataSource: getDataSource,\n            onDataSource: onDataSource,\n            getPatientFilterApi: getPatientFilterApi,\n            getUserApi: getUserApi,\n            showFilter: showFilter,\n            hideFilter: hideFilter,\n            toggleFilter: toggleFilter,\n            setBusy: setBusy,\n            setBusyMessage: setBusyMessage,\n            setDataset: setDataset,\n            getDataSetNames: getDataSetNames,\n            getDataManifest: getDataManifest,\n            getPatientHistoryTable: getPatientHistoryTable,\n            getPatientHistoryDxAndSurvivalMinMax: getPatientHistoryDxAndSurvivalMinMax,\n            getSampleDataFrame: getSampleDataFrame,\n            getGeneSetNames: getGeneSetNames,\n            getSampleCategorizationNames: getSampleCategorizationNames,\n            getSampleCategorization: getSampleCategorization,\n            getMarkersNetwork: getMarkersNetwork,\n            getPathway: getPathway,\n            getDrugGeneInteractions: getDrugGeneInteractions,\n            getCanonicalizePatientIDsInDataset: getCanonicalizePatientIDsInDataset,\n            getGeneSetGenes: getGeneSetGenes,\n            getOncoprintDataSelection: getOncoprintDataSelection,\n            getPCA: getPCA,\n            getCalculatedPCA: getCalculatedPCA,\n            getPLSR: getPLSR,\n            getCalculatedPLSR: getCalculatedPLSR,\n            getSummarizedPLSRPatientAttributes: getSummarizedPLSRPatientAttributes,\n            getCalculatedSurvivalCurves: getCalculatedSurvivalCurves,\n            getTimelines: getTimelines,\n            getCalculatedTimelines: getCalculatedTimelines,\n            getMrnaData: getMrnaData,\n            getCnvData: getCnvData,\n            getMutationData: getMutationData,\n            getModuleModificationDate: getModuleModificationDate\n        }\n\n    }\n})();\n\n\n\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osMetadata', explore);\n\n    /** @ngInject */\n    function explore() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/metadata/metadata.html',\n            controller: MetadataController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function MetadataController(osApi, $state, $timeout, $scope, $stateParams) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n            // View Model\n            var vm = this;\n            vm.dataset = $stateParams.datasource;\n            vm.colnames = [];\n            vm.rows = [];\n            vm.search = \"\";\n            vm.toggleFilter = function() {\n                angular.element(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                angular.element(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n\n            // Elements\n            var dtTable;\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.getDataManifest(vm.dataset).then(function(response) {\n                vm.colnames = response.payload.colnames;\n                vm.rows = response.payload.mtx;\n                $timeout(function() {\n                    dtTable = angular.element('#metadata-datatable').dataTable({\n                        \"paging\": false\n                    });\n                    $scope.$watch('vm.search', function() {\n                        dtTable.api().search(vm.search).draw();\n                    });\n                    osApi.setBusy(false);\n                }, 0, false);\n            });\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osMarkers', markers);\n\n    /** @ngInject */\n    function markers() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/markers/markers.html',\n            scope: {},\n            controller: MarkersController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function MarkersController(osApi, $state, $timeout, $scope, $stateParams, cytoscape, signals, $window, _) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n\n            // Initialize View Model\n            var vm = initializeViewModel(this, $stateParams);\n            vm.toggleFilter = function() {\n                angular.element(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                angular.element(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            };\n\n            // Load Data\n            osApi.setBusy(true);\n            loadData(osApi, vm, function(data){\n\n                // Initalize Styles\n                var styles = initializeStyles();\n\n                // Initialize Chart\n                var chart = initializeChart(data, styles, cytoscape, angular.element(\"#markers-chart\"));\n\n                // Initalize Layouts\n                initializeLayouts(chart, vm, $scope);\n\n                // Initalize Node Colors\n                initializeNodeColors(chart, vm, $scope, osApi);\n\n                // Initialize Edge Colors\n                initializeEdgeColors(chart, vm, $scope, $timeout);\n\n                // Initialize Events\n                initializeEvents(chart, vm, $scope, $timeout, osApi);\n\n                // Initalize Search\n                initializeSearch(chart, vm, $scope)\n\n                // Initialize Zoom\n                initializeZoom(chart, $timeout);\n                \n                // Ready\n                osApi.setBusy(false);\n            });\n        }\n\n        function initializeSearch(chart, vm, $scope){\n\n            // Search Gene Textbox\n            $scope.$watch(\"vm.searchGene\", function(){\n                if (angular.isUndefined(vm.searchGene)) return;\n                chart.startBatch();\n                chart.nodes('node[nodeType=\"gene\"]')\n                    .forEach(function(ele){\n                        if (vm.searchGene==\"\") { ele.deselect(); return; }\n                        if (ele.data().name.toLowerCase().indexOf(vm.searchGene.toLowerCase())==0){\n                            ele.select()\n                        }else{\n                            ele.deselect();\n                        }\n                    });\n                chart.endBatch();\n            });\n\n            // Search Patient Textbox\n            $scope.$watch(\"vm.searchPatient\", function(){\n                if (angular.isUndefined(vm.searchPatient)) return;\n                chart.startBatch();\n                chart.nodes('node[nodeType=\"patient\"]')\n                    .forEach(function(ele){\n                        if (vm.searchPatient==\"\") { ele.deselect(); return; }\n                        if (ele.data().id.toLowerCase().indexOf(vm.searchPatient.toLowerCase())==0){\n                            ele.select()\n                        }else{\n                            ele.deselect();\n                        }\n                });\n                chart.endBatch();\n            });\n        }\n            \n        function initializeViewModel(vm, $stateParams){\n            vm.datasource = $stateParams.datasource;\n            vm.optInteractiveModes;\n            vm.optInteractiveMode;\n            vm.optPatientLayouts;\n            vm.optPatientLayout;\n            vm.optNodeColors;\n            vm.optNodeColor;\n            vm.optEdgeColors;\n            vm.legandNodes;\n            vm.legandPatient;\n            vm.legandChromosomes;\n            vm.frame;\n            return vm;\n        }\n\n        function initializeChart(data, styles, cytoscape, el){\n            // Initalize Cytoscape Chart\n            // If performance becomes an issue set *Viewport attributes to true\n            return cytoscape({\n                container: el,\n                elements: data,\n                style: styles,\n                hideEdgesOnViewport: false,\n                hideLabelsOnViewport: false,\n                textureOnViewport: false,\n                motionBlur: true,\n                minZoom: 0.05,\n                maxZoom: 40,\n                layout: {\n                    name: \"preset\",\n                    fit: true\n                }\n            });\n        }\n\n        function initializeStyles(){\n            // Unlike CSS order of operations is determined by order\n            // Play specific attention to use of data() + mapdata() values they are dynamic\n            // Care should be taken not to update styles directly in code, but to use underlying data model\n            // Cytoscape Dynamic Style Properties Include\n            /*\n                display\n                color\n                sizeEle\n                sizeLbl\n                posX\n                posY\n                hobo\n                patient\n            */\n            return [\n            {\n                selector: 'node',\n                style: {\n                    'display': \"data(display)\",\n                    'height': \"mapData(sizeEle, 0, 50, 0, 80)\",\n                    'width': \"mapData(sizeEle, 0, 50, 0, 80)\",\n                    'font-size': 'data(sizeLbl)',\n                    'text-valign': 'center'\n                }\n            }, {\n                selector: 'node[nodeType=\"patient\"]',\n                style: {\n                    'background-color': 'data(color)',\n                    'text-halign': 'center'\n                }\n            }, {\n                selector: 'node[nodeType=\"patient\"]:selected',\n                style: {\n                    'border-color': \"#FF0000\"\n                }\n            }, {\n                selector: 'node[nodeType=\"gene\"]',\n                style: {\n                    'background-color': \"#FFFFFF\",\n                    'border-color': \"data(color)\",\n                    'text-halign': \"right\",\n                    'label': \"data(id)\",\n                    'border-width': \"data(sizeBdr)\"\n                }\n            }, {\n                selector: 'node[nodeType=\"gene\"]:selected',\n                style: {\n                    'border-color': \"#FF0000\"\n                }\n            },{\n                selector: 'node[nodeType=\"centromere\"]',\n                style:{\n                    'font-size': '24px',\n                    'text-halign': 'center',\n                    'background-color': '#FFFFFF',\n                    'border-color': 'rgb(19, 150, 222)',\n                    'height': '40px',\n                    'width': '120px',\n                    'shape': 'roundrectangle',\n                    'label': \"  data(id)\"\n                }\n            },{\n                selector: 'edge',\n                style:{\n                    'display': \"data(display)\",\n                    'line-color': \"data(color)\",\n                    'line-width': \"data(sizeEle)\"\n                }\n            }];\n        }\n\n        function initializeEvents(chart, vm, $scope, $timeout, osApi){\n\n            // Create Signals\n            var events = (function() {\n                var geneOver = new signals.Signal();\n                var geneOut = new signals.Signal();\n                var geneClick = new signals.Signal();\n                var patientOver = new signals.Signal();\n                var patientOut = new signals.Signal();\n                var patientClick = new signals.Signal();\n                var removeAll = function() {\n                    geneOver.removeAll();\n                    geneOut.removeAll();\n                    patientOver.removeAll();\n                    patientOut.removeAll();\n                    geneClick.removeAll();\n                    patientClick.removeAll();\n                }\n                var over = function(e) {\n                    geneOver.add(e);\n                    patientOver.add(e);\n                };\n                var out = function(e) {\n                    geneOut.add(e);\n                    patientOut.add(e);\n                }\n                var click = function(e) {\n                    geneClick.add(e);\n                    patientClick.add(e);\n                }\n                return {\n                    geneOver: geneOver,\n                    geneOut: geneOut,\n                    geneClick: geneClick,\n                    patientOver: patientOver,\n                    patientOut: patientOut,\n                    patientClick: patientClick,\n                    over: over,\n                    out: out,\n                    click: click,\n                    removeAll: removeAll\n                };\n            })();\n\n            // Attach Event Signals To Real Events\n            chart\n                .on('click', 'node[nodeType=\"gene\"]', events.geneClick.dispatch)\n                .on('click', 'node[nodeType=\"patient\"]', events.patientClick.dispatch)\n                .on('mouseover', 'node[nodeType=\"gene\"]', events.geneOver.dispatch)\n                .on('mouseover', 'node[nodeType=\"patient\"]', events.patientOver.dispatch)\n                .on('mouseout', 'node[nodeType=\"gene\"]', events.geneOut.dispatch)\n                .on('mouseout', 'node[nodeType=\"patient\"]', events.patientOut.dispatch);\n\n            // Cache Hide All Edges Structure\n            var hidePatientEdges = {};\n            chart.$('edge[edgeType!=\"chromosome\"]')\n                .forEach(function(node){ this[node.id()] = { display: 'none' };}, hidePatientEdges);\n                    \n            // Define Behaviors\n            var behaviors = {\n                showPatientInfo: function(e){\n                    if (e.cyTarget.data().nodeType == 'patient') {\n                        $scope.$apply(function() {\n                            vm.patient = e.cyTarget.attr('patient');\n                            vm.patientChromosomes = e.cyTarget.neighborhood(\"node\")\n                                .map(function(item) { return item.data().id });\n                        });\n                    }\n                    return this;\n                },\n                hidePatientInfo: function(){\n                    $scope.$apply(function() {\n                        vm.patient = vm.patientChromosomes = null;\n                    });\n                    return this;\n                },\n                showDegreeOne: function(e){\n                    var degmap = {};\n                    e.cyTarget.neighborhood('edge')\n                        .forEach(function(item){\n                            this[item.id()] = {display:'element'};\n                        }, degmap);\n                    chart.batchData(degmap);\n                },\n                hideDegreeOne: function(e){\n                    var degmap = {};\n                    e.cyTarget.neighborhood('edge')\n                        .forEach(function(item){\n                            this[item.id()] = {display:'none'};\n                        }, degmap);\n                    chart.batchData(degmap);\n                },\n                showDegreeTwo: function(e){\n                    var degmap = {};\n                    e.cyTarget.neighborhood('node')\n                        .forEach(function(node){\n                            node.neighborhood('edge')\n                                .forEach(function(item){\n                                    this[item.id()] = {display:'element'};\n                            }, this);\n                        }, degmap);\n                    chart.batchData(degmap);\n                },\n                hideDegreeTwo: function(e){\n                    var degmap = {};\n                    e.cyTarget.neighborhood('node')\n                        .forEach(function(node){\n                            node.neighborhood('edge')\n                                .forEach(function(item){\n                                    this[item.id()] = {display:'none'};\n                            }, this);\n                        }, degmap);\n                    chart.batchData(degmap);\n                },\n                showOncoPrint: function(e){\n                    /*\n                    var ds = vm.datasource;\n                    if (ds==\"DEMOdz\") return;\n                    if (ds.indexOf(\"TCGA\" == 0)) {\n                        var cbioDsName = ds.substr(4) + \"_tcga\";\n                        var genes = e.cyTarget.neighborhood('node').map(function(n) {\n                            return n.data().name;\n                        }).join(\"+\");\n                        var url = \"http://www.cbioportal.org/ln?cancer_study_id=\" + cbioDsName + \"&q=\" + genes;\n                        $scope.$apply(function() {\n                            $window.open(url);\n                        });\n                    }\n                    */\n                }\n            }\n\n            // Use States To Associate Events + Behaviors\n            var states = [{\n                name: 'Hide All',\n                register: function() {\n                    events.click(function(e) {\n                        behaviors\n                            .showOncoPrint(e)\n                    });\n                    events.over(function(e) {\n                        behaviors\n                            .showPatientInfo(e)\n                    });\n                    events.out(function(e) {\n                        behaviors\n                            .hidePatientInfo(e)\n                    });\n                },\n                unregister: function() {\n                    events.removeAll();\n                }\n            }, {\n                name: 'Show All',\n                register: function() {\n                    events.click(function(e) {\n                        behaviors\n                            .showOncoPrint(e)\n                    });\n                    events.over(function(e) {\n                        behaviors\n                            .showPatientInfo(e)\n                    });\n                    events.out(function(e) {\n                        behaviors\n                            .hidePatientInfo(e)\n                    });\n\n                    // Show all Edges\n                    var degmap = {};\n                    chart.$('edge[edgeType!=\"chromosome\"]')\n                        .forEach(function(node){\n                            this[node.id()] = { display: 'element' };\n                        }, degmap);\n                    chart.batchData(degmap);\n                },\n                unregister: function() {\n                    events.removeAll();\n\n                    // Hide All Edges\n                    chart.batchData(hidePatientEdges);\n                }\n            },{\n                name: '1 When Selected',\n                register: function(){\n\n                    var degmap = {};\n                    chart.$('node[nodeType=\"patient\"]:selected')\n                        .forEach(function(node) {\n                            node.neighborhood('edge').forEach( function(edge) {\n                                this[edge.id()] = { display: 'element' };\n                            }, degmap)\n                        }, degmap);\n                    chart.batchData(degmap);\n\n\n                    chart.on('select', 'node', function(e){\n                        behaviors.showDegreeOne(e);\n                    });\n                    chart.on('unselect','node',function(e){\n                        behaviors.hideDegreeOne(e);\n                    });\n                },\n                unregister: function(){\n\n                    // Hide All Edges\n                    chart.batchData(hidePatientEdges);\n                    chart.off('select', 'node');\n                    chart.off('unselect', 'node');\n                }\n\n            },{\n                name: '2 When Selected',\n                register: function(){\n                    var degmap = {};\n                    chart.$('node[nodeType=\"patient\"]:selected')\n                        .forEach(function(node){\n                            node.neighborhood('node')\n                                .forEach(function(node){\n                                    node.neighborhood('edge')\n                                        .forEach(function(item){\n                                            this[item.id()] = {display:'element'};\n                                        }, this)\n                                }, this)\n                        }, degmap);\n                    chart.batchData(degmap);\n                    \n                    chart.on('select', 'node', function(e){\n                        behaviors.showDegreeTwo(e);\n                    });\n                    chart.on('unselect','node',function(e){\n                        behaviors.hideDegreeTwo(e);\n                    });\n                },\n                unregister: function(){\n\n                    // Hide All Edges\n                    chart.batchData(hidePatientEdges);\n                    chart.off('select', 'node');\n                    chart.off('unselect', 'node');\n                }\n\n            },{\n                name: '1 On Mouse Over',\n                register: function() {\n                    events.click(function(e) {\n                        behaviors\n                            .showOncoPrint(e)\n                    });\n                    events.over(function(e) {\n                        behaviors\n                            .showPatientInfo(e)\n                            .showDegreeOne(e)\n                        \n                    });\n                    events.out(function(e) {\n                        behaviors\n                            .hidePatientInfo(e)\n                            .hideDegreeOne(e)\n                    });\n                },\n                unregister: function() {\n                    events.removeAll();\n                }\n            }, {\n                name: '2 On Mouse Over',\n                register: function() {\n                    events.click(function(e) {\n                        behaviors\n                            .showOncoPrint(e)\n                    });\n                    events.over(function(e) {\n                        behaviors\n                            .showPatientInfo(e)\n                            .showDegreeTwo(e)\n                    });\n                    events.out(function(e) {\n                        behaviors\n                            .hidePatientInfo(e)\n                            .hideDegreeTwo(e)                           \n                    });\n                },\n                unregister: function() {\n                    events.removeAll();\n                }\n            }];\n\n            vm.optInteractiveModes = states;\n            vm.optInteractiveMode = vm.optInteractiveModes[0];\n\n            // What Scope To Initialize Behaviors\n            $scope.$watch(\"vm.optInteractiveMode\", function(next, prev) {\n                if (angular.isDefined(prev)) prev.unregister();\n                if (angular.isDefined(next)) next.register();\n            });\n        }\n\n        function initializeEdgeColors(chart, vm, $scope, $timeout){\n\n            // Set Edge Options\n            var colors = [{ \n                    name: 'mutation',\n                    class: 'edgeMutation',\n                    color: '#004358',\n                    state: 'Highlight'\n                }, {\n                    name: 'cnGain.1',\n                    class: 'edgeCnGain1',\n                    color: '#1F8A70',\n                    state: 'Highlight'\n                }, {\n                    name: 'cnLoss.1',\n                    class: 'edgeCnLoss1',\n                    color: '#BEDB39',\n                    state: 'Highlight'\n                }, {\n                    name: 'cnGain.2',\n                    class: 'edgeCnGain2',\n                    color: '#FFE11A',\n                    state: 'Highlight'\n\n                }, {\n                    name: 'cnLoss.2',\n                    class: 'edgeCnLoss2',\n                    color: '#FD7400',\n                    state: 'Highlight'\n                }];\n            var colorMap = {\n                'mutation' : colors[0],\n                'cnGain.1' : colors[1],\n                'cnLoss.1' : colors[2],\n                'cnGain.2' : colors[3],\n                'cnLoss.2' : colors[4]\n            };\n\n            // Default colors\n            $timeout(function(){\n                colors.forEach(function(item){\n                    angular.element(\".\" + item.class).css(\"border-color\", item.color);\n                });\n                var degmap = {};\n                chart.edges('edge[edgeType!=\"chromosome\"]')\n                    .forEach(function(edge){\n                        this[edge.id()] = {color:colorMap[edge.data(\"edgeType\")].color};\n                    }, degmap);\n                chart.batchData(degmap);\n            });\n\n            vm.optEdgeColors = colors;\n\n            // Update Edge Callback\n            vm.updateEdge = function(item){\n                var color, state;\n                switch (item.state){\n                    case \"Highlight\":\n                        item.state = \"Show\";\n                        color = '#3993fa';\n                        state = {color:color, display:'element'};\n                        break;\n                    case \"Show\":\n                        item.state = \"Hide\";\n                        color = '#EEEEEE';\n                        state = {display:'none'};\n                        break;\n                    default:\n                        item.state = \"Highlight\";\n                        color = item.color;\n                        state = {color:color, display:'element'};\n                        break;\n                }\n\n                // Set Legand color\n                angular.element(\".\" + item.class).css(\"border-color\", color );\n\n                // update Degree Map\n                var degmap = {};\n                chart.edges('edge[edgeType=\"'+item.name+'\"]')\n                    .forEach(function(edge){\n                        this.degmap[edge.id()] = this.state;\n                    }, {degmap:degmap, state:state});\n                chart.batchData(degmap);\n\n            }\n        }\n\n        function initializeZoom(chart, $timeout){\n            var _timeout;\n            chart.on('pan', _.debounce(function(e) {\n                var zoom = Math.max(e.cy.zoom(), 1);\n                var degmap = {};\n                var font = Math.ceil(Math.max(12/zoom, 1));\n                var sizeBdr = Math.ceil(Math.max(5/zoom, .5));\n                console.log(sizeBdr);\n                chart.nodes().forEach(function(node){\n                    this.degmap[node.id()] = {\n                        sizeEle: (node.degree()/this.zoom),\n                        sizeLbl: font,\n                        sizeBdr:sizeBdr\n                    };\n                }, { degmap:degmap, zoom:zoom, font:font, sizeBdr:sizeBdr });\n                chart.batchData(degmap);\n            }, 300));\n        }\n\n        function initializeNodeColors(chart, vm, $scope, osApi){\n            \n            osApi.getSampleCategorizationNames().then(function(response) {\n                vm.optNodeColors =  [{name: 'Default'},{name: 'Gender'},{name: 'Age At Diagnosis'}]\n                    .concat( response.payload\n                        .map(function(item) { return {'name': item} }));\n                vm.optNodeColor = vm.optNodeColors[0];\n\n                $scope.$watch(\"vm.optNodeColor\", function(){\n                        switch(vm.optNodeColor.name){\n                            case \"Default\":\n                                vm.legandNodes = [{name:'Patients', color:'#3993fa'}];\n                                var degmap = {};\n                                chart.$('node[nodeType=\"patient\"]')\n                                    .forEach(function(node){\n                                        degmap[node.id()] = {color:'#3993fa'};\n                                    });\n                                chart.batchData(degmap);\n                                break;\n                            case \"Gender\":\n                                vm.legandNodes = [{name:'Male', color:'blue'}, {name:'Female', color:'pink'}];\n                                var degmap = {};\n                                chart.$('node[nodeType=\"patient\"]')\n                                    .forEach(function(node){\n                                        try{\n                                            var gender = node.data(\"patient\")[0][2];\n                                            degmap[node.id()] = {color: (gender==='male') ? 'rgb(5, 108, 225)' :  'pink' };\n                                        }catch(e){\n                                            degmap[node.id()] = {color: '#EEEEEE'};\n                                        }\n                                    });\n                                chart.batchData(degmap);\n                                break;\n                            case \"Age At Diagnosis\":\n                                vm.legandNodes = [{name:'Young', color:'green'}, {name:'Old', color:'red'}];\n                                var degmap = {};\n                                chart.$('node[nodeType=\"patient\"]')\n                                    .forEach(function(node){\n                                        try{\n                                            var age = Number(node.data(\"patient\")[0][4]);\n                                            degmap[node.id()] = {color: 'rgb(' + ((255 * age) / 100) + ',' + ((255 * (100 - age)) / 100) + ',0)' };\n                                        }catch(e){\n                                            degmap[node.id()] = {color: '#000000'};\n                                        }\n                                    });\n                                chart.batchData(degmap);\n                                break;\n                            default:\n                                osApi.getSampleCategorization(vm.optNodeColor.name).then(function(response) {\n                                    vm.legandNodes = response.payload.tbl\n                                        .map(function(e) {return e[0] + \"|\" + e[1]; })\n                                        .filter(function(v, i, s) { return s.indexOf(v) === i; })\n                                        .map(function(e) { var p = e.split(\"|\");\n                                            return { 'name': p[0], 'color': p[1] } });\n                                        var rows = response.payload.rownames;\n                                        var tbl = response.payload.tbl;\n                                        var degmap = {};\n                                        var nodes = chart.$('node[nodeType=\"patient\"]');\n                                        // Revisit This.  Would be faster to not loop.\n                                        for (var i=0; i<nodes.length; i++){\n                                            var id = nodes[i].id();\n                                            degmap[id] = {color:'#DDDDDD'}\n                                            for (var ii=0; ii<rows.length; ii++){\n                                                if (id==rows[ii]){\n                                                    degmap[id] = {color:tbl[ii][1]}\n                                                    break;\n                                                }\n                                            }\n                                        }\n                                        chart.batchData(degmap);\n                                    });\n                                break;\n                        }\n                    });\n\n            });\n        }\n\n        function initializeLayouts(chart, vm, $scope){\n            vm.optPatientLayouts = [{name: 'Hobo'},{name: 'Age At Diagnosis'},{name: 'Gender'}];\n            vm.optPatientLayout = vm.optPatientLayouts[0];\n            $scope.$watch('vm.optPatientLayout', function(layout){\n                var data = {};\n                var nodes = chart.nodes('node[nodeType=\"patient\"]');\n                chart.startBatch();\n                switch (layout.name){\n\n                    // Hobo Chart Positions Are Sent From Server In Initial Dataset + Cached Load\n                    case \"Hobo\":\n                        nodes.forEach(function(node){ \n                            node.position(node.data(\"hobo\")); \n                        });\n                        break;\n\n                    // Age At Dx Comes From Patient Table\n                    case \"Age At Diagnosis\":\n                        nodes.forEach(function(node){\n                            try{\n                                var age = Number(node.data(\"patient\")[0][4]);\n                                age = age.map(0, 100, -3000, 3000);\n                                node.position({\n                                    y: age, \n                                    x: (Math.pow(age, 2) / 5000) - 200\n                                });\n                            }catch(e){\n                                node.position({x:100,y:0});\n                            }\n                        });\n                        break;\n\n                    // Gender Comes From Patient Table\n                    case \"Gender\":\n                        nodes\n                            .filter(function(index, node){\n                                try{ return (node.data(\"patient\")[0][2].toLowerCase()=='male')}\n                                catch(e){}\n                                return false;\n                            })\n                            .forEach(function(node, index){\n                                var a = 30;\n                                var b = 30;\n                                var angle = 0.1 * (index+1);\n                                var x = -1000 + (a+b * angle) * Math.cos(angle);\n                                var y = -1200 + (a+b * angle) * Math.sin(angle);\n                                node.position({\n                                    x: x,\n                                    y: y\n                                });\n                            });\n                        nodes\n                            .filter(function(index, node){\n                                return angular.isUndefined(node.data(\"patient\")[0])\n                            })\n                            .forEach(function(node, index){\n                                var a = 50;\n                                var b = 50;\n                                var angle = 0.1 * (index+1);\n                                var x = -2500 + (a+b * angle) * Math.cos(angle);\n                                var y = 0 + (a+b * angle) * Math.sin(angle);\n                                node.position({\n                                    x: x,\n                                    y: y\n                                });\n                            });\n\n                        nodes\n                            .filter(function(index, node){\n                                try{ return (node.data(\"patient\")[0][2].toLowerCase()=='female')}\n                                catch(e){}\n                                return false;\n                            })\n                            .forEach(function(node, index){\n                                var a = 30;\n                                var b = 30;\n                                var angle = 0.1 * (index+1);\n                                var x = -1000 + (a+b * angle) * Math.cos(angle);\n                                var y = 1200 + (a+b * angle) * Math.sin(angle);\n                                node.position({\n                                    x: x,\n                                    y: y\n                                });\n                            });\n                        break;\n                }\n                chart.endBatch();\n            });\n        }\n\n        function loadData(osApi, vm, cb){\n            // Today multiple nested data calls are nessisary to obtain all the data to render the chart\n            // Future server refactor should be done to limit number of calls and preformat data\n            osApi.setDataset(vm.datasource).then(function() {\n\n                // Patient Data\n                osApi.getPatientHistoryTable(vm.datasource).then(function(response) {\n                    var dataPatients = response.payload.tbl;\n\n                    // Marker Data\n                    osApi.getMarkersNetwork(response.payload).then(function(response) {\n                        var dataMarkers = angular.fromJson(response.payload).elements;\n\n                        // Process Patient Nodes (Save Hobo Positions + Patient History Info + Color + SizeEle + SizeLbl)\n                        dataMarkers.nodes\n                            .filter(function(item) { return item.data.nodeType === 'patient'; })\n                            .map(function(value) {\n                                var data = value.data;\n                                data.display = \"element\";\n                                data.color = \"rgb(19, 150, 222)\";\n                                data.sizeEle = data.degree;\n                                data.sizeLbl = 12;\n                                data.hobo = {x: value.position.x, y: value.position.y};\n                                data.patient = this.filter(function(item){ return item[0]===value.data.id });\n                            }, dataPatients);\n\n                        // Process Non Patient Nodes\n                        dataMarkers.nodes\n                            .filter(function(item) {  return  item.data.nodeType != 'patient'; })\n                            .map(function(value,i){\n                               \n                                var data = value.data;\n                                data.display = \"element\";\n                                data.color = \"rgb(19, 150, 222)\";\n                                data.sizeEle = data.degree;\n                                data.sizeLbl = 12;\n                                data.sizeBdr = 10;\n                                value.locked = true;\n                                value.selectable = true;\n                                value.grabbable = false;\n                                return value;\n                            });\n\n                        // Process Edges\n                        dataMarkers.edges\n                            .map(function(value){\n                                var data = value.data;\n                                data.display = (data.edgeType==\"chromosome\") ? \"element\" : \"none\";\n                                data.color = \"rgb(19, 150, 222)\";\n                                data.sizeEle = 1;\n                                data.sizeLbl = 12;\n                                value.locked = true;\n                                value.selectable = false;\n                                value.grabbable = false;\n                                return value;\n                            });\n\n                        // Call Back\n                        cb(dataMarkers);\n                    });\n                });\n            });\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osLogin', login);\n\n\n    /** @ngInject */\n    function login() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/login/login.html',\n            replace: true,\n            controller: LoginController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function LoginController(osApi, $state) {\n            \n            var userApi = osApi.getUserApi();\n\n            var vm = this;\n            vm.domains = userApi.getDomains();\n            vm.user = userApi.getUser();\n            vm.hasError = false;\n\n            vm.login = function() {\n                var promise = userApi.login(vm.user);\n                if (angular.isDefined(promise)){\n                    promise.then(function() {\n                        if (vm.user.authenticated) {\n                            $state.go(\"datasource\");\n                        } else {\n                            vm.hasError = true;\n                        }\n                    });\n                }else{\n                    $state.go(\"datasource\");\n                }\n                \n            }\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osLoader', login);\n\n    /** @ngInject */\n    function login() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/loader/loader.html',\n            replace: true\n        };\n\n        return directive;\n    }\n\n})();\n\n(function() {\n    'use strict';\n    angular\n        .module('oncoscape')\n        .directive('osLanding', landing);\n\n    /** @ngInject */\n    function landing() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/landing/landing.html',\n            replace: true,\n            controller: LandingController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function LandingController($state) {\n            var vm = this;\n            vm.login = function() {\n                $state.go(\"login\");\n            }\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osHistory', history);\n\n    /** @ngInject */\n    function history() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/history/history.html',\n            controller: HistoryController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function HistoryController(osApi, $state, $timeout, $scope, $stateParams) {\n\n            if (angular.isUndefined($stateParams.datasource)){\n                $state.go(\"datasource\");\n                return;\n            }\n\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource;\n            vm.filter;\n            vm.colnames = [];\n            vm.diagnosisMin = vm.diagnosisMinValue = 1;\n            vm.diagnosisMax = vm.diagnosisMaxValue = 99;\n            vm.survivalMin = vm.survivalMinValue = 0;\n            vm.survivalMax = vm.survivalMaxValue = 10;\n            vm.search = \"\";\n\n            var rawData;\n            var pfApi = osApi.getPatientFilterApi();\n            pfApi.init(vm.datasource);\n            pfApi.onSelect.add(draw);\n\n\n\n            vm.toggleFilter = function() {\n                angular.element(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                angular.element(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            };\n\n            vm.applyFilter = function() {\n                // Override Datatables Default Search Function - More Efficent Than Using Angular Bindings\n                angular.element.fn.DataTable.ext.search = [function(settings, data) {\n                    var survival = parseFloat(data[3]);\n                    var diagnosis = parseFloat(data[4]);\n                    if (isNaN(survival) || isNaN(diagnosis)) return false;\n                    return (diagnosis >= vm.diagnosisMin &&\n                        diagnosis <= vm.diagnosisMax &&\n                        survival >= vm.survivalMin &&\n                        survival <= vm.survivalMax);\n                }];\n                dtTable.api().draw();\n            };\n\n            vm.cohort;\n            vm.createCohort = function() {\n                pfApi.addFilter(vm.cohort, dtTable._('tr', {\"filter\":\"applied\"}).map(function(data) { return data[0]; }) );\n                vm.cohort = \"\";\n            };\n\n            function draw(){\n                dtTable.fnClearTable();\n                 var data = pfApi.filter(rawData.tbl, function(p){ return p[0] });\n                if (data.length==0) return;\n                var d = data.map(function(d){ return d[4]; });\n                var s = data.map(function(d){ return d[3]; });\n                $timeout(function() {\n                    vm.filter = pfApi.getActiveFilter().name;\n                    vm.diagnosisMin = vm.diagnosisMinValue = Math.floor(Math.min.apply(null, d));\n                    vm.diagnosisMax = vm.diagnosisMaxValue = Math.ceil(Math.max.apply(null, d));\n                    vm.survivalMin = vm.survivalMinValue = Math.floor(Math.min.apply(null, s));\n                    vm.survivalMax = vm.survivalMaxValue = Math.floor(Math.max.apply(null, s));\n                });\n                dtTable.fnAddData(data);\n            }\n\n            // Elements\n            var dtTable;\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.setDataset(vm.datasource).then(function() {\n                osApi.getPatientHistoryTable(vm.datasource).then(function(response) {\n                    rawData = response.payload;\n                    vm.colnames = rawData.colnames;\n                    $timeout(function() {\n                        dtTable = angular.element('#history-datatable').dataTable({\n                            \"scrollY\": \"70vh\",\n                            \"paging\": false\n                        });\n                        $scope.$watch('vm.search', function() {\n                            dtTable.api().search(vm.search).draw();\n                        });\n                        draw();\n                        osApi.setBusy(false);\n                    }, 0, false);\n                });\n            });\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osHelp', help);\n\n    /** @ngInject */\n    function help() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/help/help.html',\n            controller: HelpController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function HelpController() {\n            var vm = this;\n           vm.videos = [\n               {\n                    name: 'Oncoscape + Github',\n                    desc: 'Description Lorum Ipsum eos et sid al accusamus et iusto odio',\n                    img: ''\n               },\n               {\n                    name: 'Creating Cohorts',\n                    desc: 'Description Lorum Ipsum eos et sid al accusamus et iusto odio',\n                    img: ''\n               },\n               {\n                    name: 'Patients + Markers',\n                    desc: 'Description Lorum Ipsum eos et sid al accusamus et iusto odio',\n                    img: ''\n               },\n               {\n                    name: 'Timelines',\n                    desc: 'Description Lorum Ipsum eos et sid al accusamus et iusto odio',\n                    img: ''\n               }\n           ]\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osHeader', header);\n\n    /** @ngInject */\n    function header() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/header/header.html',\n            scope: {},\n            controller: HeaderController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function HeaderController(osApi, $stateParams, $state, $timeout, $rootScope) {\n\n            \n            osApi.onDataSource.add(function(){\n                $timeout(function(){\n                    vm.showTools = true;\n                });\n            });\n\n            var userApi = osApi.getUserApi();\n            userApi.onLogin.add(function(){\n                $timeout(function(){\n                    vm.showMenu = true;\n                });\n            })\n            userApi.onLogout.add(function(){\n                $timeout(function(){\n                    vm.showMenu = false;\n                });\n            })\n           \n            var vm = this;\n            vm.showMenu = false;\n            vm.showTools = false;\n            \n            \n            vm.toolsClick = function(){\n                $state.go(\"tools\", {\n                    datasource: osApi.getDataSource()\n                });\n            };\n            \n            vm.cohortClick = function() {\n                osApi.toggleFilter();\n            };\n            \n            vm.logoutClick = function(){\n               userApi.logout();\n               $state.transitionTo(\"landing\");\n            }\n        }\n    }\n\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osFilters', filters);\n\n    /** @ngInject */\n    function filters() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/filters/filters.html',\n            scope: {},\n            controller: FiltersController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function FiltersController(osApi, $stateParams, $window, d3) {\n\n            \n            var datasource = $stateParams.datasource || \"DEMOdz\";\n            var pfApi = osApi.getPatientFilterApi();\n            pfApi.init(datasource);\n            pfApi.onChange.add(function(){\n                chart.draw();\n            });\n\n\n            var chart = (function(pfApi, osApi) {\n\n\n                // Size\n                var width, height;\n                width = height = Math.min($window.innerWidth, $window.innerHeight) - 200;\n\n                // Data\n                var link, node;\n\n                // Animation Length\n                var duration = 2000;\n\n                var tree = d3.layout.tree()\n                    .size([height, width - 160]);\n\n                var cluster = d3.layout.cluster()\n                    .size([height, width - 160]);\n\n                var diagonal = d3.svg.diagonal()\n                    .projection(function(d) {\n                        return [d.y, d.x];\n                    });\n\n\n                var svg = d3.select(\"#filters-chart\").append(\"svg\")\n                    .attr(\"width\", width)\n                    .attr(\"height\", height)\n                    .append(\"g\")\n                    .attr(\"transform\", \"translate(100,0)\");\n\n\n                // LAYOUT OPTIONS + ACCESSOR\n                function setDisplay(val) {\n                    switch (val) {\n                        case \"Cluster\":\n                            transitionToCluster();\n                            break;\n                        case \"Tree\":\n                            transitionToTree();\n                            break;\n                    }\n                }\n\n                function draw(){\n                    transitionToTree();\n                }\n\n\n\n                var transitionToCluster = function(){\n                    var data = pfApi.getFilterTree();\n                    var nodes = cluster.nodes(data);\n                    var links = cluster.links(nodes);\n\n                    svg.transition().duration(duration).attr(\"transform\", \"translate(40,0)\");\n\n                    link = svg.selectAll(\".filter-link\").data(links);\n\n                    link\n                        .enter()\n                        .append(\"path\")\n                        .attr(\"class\",\"filter-link\")\n                        .transition()\n                        .duration(duration)\n                        .attr(\"d\", diagonal); \n\n                    link\n                        .transition()\n                        .duration(duration)\n                        .attr(\"d\", diagonal); \n\n                    link\n                        .exit()\n                        .remove();\n\n                    node = svg.selectAll(\".filter-node\").data(nodes);\n\n                    \n\n                    var ng = node\n                        .enter()\n                        .append(\"g\")\n                        .attr(\"class\",\"filter-node\")\n                        .attr(\"transform\", function(d) { return \"translate(\" + d.y + \",\" + d.x + \")\"; });\n\n                    ng.append(\"circle\")\n                        .attr(\"class\",\"filter-node-circle\")\n                        .attr(\"r\", 10)\n                        .on('click', function(d){\n                            pfApi.setActiveFilter(d);\n                            osApi.hideFilter();\n                        })\n                        .on(\"mouseover\", function() {\n                            d3.select(this).transition()\n                                .ease(\"elastic\")\n                                .duration(\"500\")\n                                .attr(\"r\", 15);\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(this).transition()\n                                .ease(\"quad\")\n                                .delay(\"100\")\n                                .duration(\"200\")\n                                .attr(\"r\", 10);\n                        });\n                        \n\n                    ng.append(\"text\")\n                        .attr({\n                            \"class\": \"filter-node-text\",\n                            \"dy\": 30\n                        })\n                        .style({\n                            \"fill\": \"#FFF\",\n                            \"text-anchor\": \"middle\"\n                        })\n                        .text(function(d) { return d.name; });\n\n                    node\n                        .transition()\n                        .duration(duration)\n                        .attr(\"transform\", function(d) { return \"translate(\" + d.y + \",\" + d.x + \")\"; });\n\n                    \n                    node\n                        .exit()\n                        .remove();\n\n                }\n\n                var transitionToTree = function(){\n                    var data = pfApi.getFilterTree();\n                    var nodes = tree.nodes(data);\n                    var links = tree.links(nodes);\n\n                   svg.transition().duration(duration).attr(\"transform\", \"translate(40,0)\");\n\n                    link = svg.selectAll(\".filter-link\").data(links);\n\n                    link\n                        .enter()\n                        .append(\"path\")\n                        .attr(\"class\",\"filter-link\")\n                        .transition()\n                        .duration(duration)\n                        .attr(\"d\", diagonal); \n\n                    link\n                        .transition()\n                        .duration(duration)\n                        .attr(\"d\", diagonal); \n\n                    link\n                        .exit()\n                        .remove();\n\n\n                    node = svg.selectAll(\".filter-node\").data(nodes);\n\n\n                    var ng = node\n                        .enter()\n                        .append(\"g\")\n                        .attr(\"class\",\"filter-node\")\n                        .attr(\"transform\", function(d) { return \"translate(\" + d.y + \",\" + d.x + \")\"; });\n\n                    ng.append(\"circle\")\n                        .attr(\"class\",\"filter-node-circle\")\n                        .attr(\"r\", 10)\n                        .on('click', function(d){\n                            pfApi.setActiveFilter(d);\n                            osApi.hideFilter();\n                        })\n                        .on(\"mouseover\", function() {\n                            d3.select(this).transition()\n                                .ease(\"elastic\")\n                                .duration(\"500\")\n                                .attr(\"r\", 15);\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(this).transition()\n                                .ease(\"quad\")\n                                .delay(\"100\")\n                                .duration(\"200\")\n                                .attr(\"r\", 10);\n                        });\n                        \n\n                    ng.append(\"text\")\n                        .attr({\n                            \"class\": \"filter-node-text\",\n                            \"dy\": 30\n                        })\n                        .style({\n                            \"fill\": \"#FFF\",\n                            \"text-anchor\": \"middle\"\n                        })\n                        .text(function(d) { return d.name; });\n\n                    node\n                        .transition()\n                        .duration(duration)\n                        .attr(\"transform\", function(d) { return \"translate(\" + d.y + \",\" + d.x + \")\"; });\n\n                    \n                    node\n                        .exit()\n                        .remove();\n                }\n\n              transitionToCluster();\n                return {\n                    setDisplay: setDisplay,\n                    draw: draw\n                }\n            })(pfApi, osApi);\n\n\n            // View Model\n            var vm = this;\n            vm.setDisplay = chart.setDisplay;\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osFooter', footer);\n\n    /** @ngInject */\n    function footer() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/footer/footer.html',\n            controller: FooterController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function FooterController() {\n            //var vm = this;\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n    \n    angular\n        .module('oncoscape')\n        .directive('osDatasource', datasource);\n\n    /** @ngInject */\n    function datasource() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/datasource/datasource.html',\n            controller: DatasourceController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function DatasourceController(osApi, $state) {\n            var vm = this;\n            vm.datasets = [];\n            vm.explore = function(tool, datasource) {\n                osApi.setDataSource(datasource);\n                $state.go(tool, {\n                    datasource: datasource\n                });\n            };\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.getDataSetNames().then(function(response) {\n                vm.datasets = response.payload.datasets;\n                osApi.setBusy(false);\n            });\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osCompare', header);\n\n    /** @ngInject */\n    function header() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/compare/compare.html',\n            controller: CompareController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function CompareController() {\n            //var vm = this;\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .run(runBlock);\n\n    /** @ngInject */\n    function runBlock($rootScope, $state, $window, $exceptionHandler, osApi) {\n\n\n        // Actions To Take On State Change\n        $rootScope.$on('$stateChangeStart', function(event, toState) {\n\n            // Hide Busy Cursor\n            osApi.setBusy(false);\n\n            // Reset DataTable Custom Filters\n            angular.element.fn.DataTable.ext.search = [];\n\n            \n            // // Force HTTPS\n            if (window.location.protocol != \"https:\" && window.location.hostname !=\"localhost\" ) {\n                window.location.replace(\"https://\"+window.location.hostname);\n            }\n\n            // Route unauthenticated users to landing page\n            if (toState.authenticate && !osApi.getUserApi().getUser().authenticated) {\n                 $state.transitionTo(\"landing\");\n                 event.preventDefault();\n            }\n\n        });\n\n    }\n\n})();\n\nif(\"undefined\"==typeof jQuery)throw new Error(\"Bootstrap's JavaScript requires jQuery\");+function(a){\"use strict\";var b=a.fn.jquery.split(\" \")[0].split(\".\");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error(\"Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3\")}(jQuery),+function(a){\"use strict\";function b(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(\"bsTransitionEnd\",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var c=a(this),e=c.data(\"bs.alert\");e||c.data(\"bs.alert\",e=new d(this)),\"string\"==typeof b&&e[b].call(c)})}var c='[data-dismiss=\"alert\"]',d=function(b){a(b).on(\"click\",c,this.close)};d.VERSION=\"3.3.6\",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger(\"closed.bs.alert\").remove()}var e=a(this),f=e.attr(\"data-target\");f||(f=e.attr(\"href\"),f=f&&f.replace(/.*(?=#[^\\s]*$)/,\"\"));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(\".alert\")),g.trigger(b=a.Event(\"close.bs.alert\")),b.isDefaultPrevented()||(g.removeClass(\"in\"),a.support.transition&&g.hasClass(\"fade\")?g.one(\"bsTransitionEnd\",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on(\"click.bs.alert.data-api\",c,d.prototype.close)}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.button\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.button\",e=new c(this,f)),\"toggle\"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION=\"3.3.6\",c.DEFAULTS={loadingText:\"loading...\"},c.prototype.setState=function(b){var c=\"disabled\",d=this.$element,e=d.is(\"input\")?\"val\":\"html\",f=d.data();b+=\"Text\",null==f.resetText&&d.data(\"resetText\",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),\"loadingText\"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle=\"buttons\"]');if(b.length){var c=this.$element.find(\"input\");\"radio\"==c.prop(\"type\")?(c.prop(\"checked\")&&(a=!1),b.find(\".active\").removeClass(\"active\"),this.$element.addClass(\"active\")):\"checkbox\"==c.prop(\"type\")&&(c.prop(\"checked\")!==this.$element.hasClass(\"active\")&&(a=!1),this.$element.toggleClass(\"active\")),c.prop(\"checked\",this.$element.hasClass(\"active\")),a&&c.trigger(\"change\")}else this.$element.attr(\"aria-pressed\",!this.$element.hasClass(\"active\")),this.$element.toggleClass(\"active\")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on(\"click.bs.button.data-api\",'[data-toggle^=\"button\"]',function(c){var d=a(c.target);d.hasClass(\"btn\")||(d=d.closest(\".btn\")),b.call(d,\"toggle\"),a(c.target).is('input[type=\"radio\"]')||a(c.target).is('input[type=\"checkbox\"]')||c.preventDefault()}).on(\"focus.bs.button.data-api blur.bs.button.data-api\",'[data-toggle^=\"button\"]',function(b){a(b.target).closest(\".btn\").toggleClass(\"focus\",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.carousel\"),f=a.extend({},c.DEFAULTS,d.data(),\"object\"==typeof b&&b),g=\"string\"==typeof b?b:f.slide;e||d.data(\"bs.carousel\",e=new c(this,f)),\"number\"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on(\"keydown.bs.carousel\",a.proxy(this.keydown,this)),\"hover\"==this.options.pause&&!(\"ontouchstart\"in document.documentElement)&&this.$element.on(\"mouseenter.bs.carousel\",a.proxy(this.pause,this)).on(\"mouseleave.bs.carousel\",a.proxy(this.cycle,this))};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:\"hover\",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(\".item\"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d=\"prev\"==a&&0===c||\"next\"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e=\"prev\"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(\".item.active\"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one(\"slid.bs.carousel\",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?\"next\":\"prev\",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(\".next, .prev\").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide(\"next\")},c.prototype.prev=function(){return this.sliding?void 0:this.slide(\"prev\")},c.prototype.slide=function(b,d){var e=this.$element.find(\".item.active\"),f=d||this.getItemForDirection(b,e),g=this.interval,h=\"next\"==b?\"left\":\"right\",i=this;if(f.hasClass(\"active\"))return this.sliding=!1;var j=f[0],k=a.Event(\"slide.bs.carousel\",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(\".active\").removeClass(\"active\");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass(\"active\")}var m=a.Event(\"slid.bs.carousel\",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass(\"slide\")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one(\"bsTransitionEnd\",function(){f.removeClass([b,h].join(\" \")).addClass(\"active\"),e.removeClass([\"active\",h].join(\" \")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass(\"active\"),f.addClass(\"active\"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr(\"data-target\")||(d=e.attr(\"href\"))&&d.replace(/.*(?=#[^\\s]+$)/,\"\"));if(f.hasClass(\"carousel\")){var g=a.extend({},f.data(),e.data()),h=e.attr(\"data-slide-to\");h&&(g.interval=!1),b.call(f,g),h&&f.data(\"bs.carousel\").to(h),c.preventDefault()}};a(document).on(\"click.bs.carousel.data-api\",\"[data-slide]\",e).on(\"click.bs.carousel.data-api\",\"[data-slide-to]\",e),a(window).on(\"load\",function(){a('[data-ride=\"carousel\"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){\"use strict\";function b(b){var c,d=b.attr(\"data-target\")||(c=b.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data(\"bs.collapse\"),f=a.extend({},d.DEFAULTS,c.data(),\"object\"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data(\"bs.collapse\",e=new d(this,f)),\"string\"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle=\"collapse\"][href=\"#'+b.id+'\"],[data-toggle=\"collapse\"][data-target=\"#'+b.id+'\"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION=\"3.3.6\",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass(\"width\");return a?\"width\":\"height\"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass(\"in\")){var b,e=this.$parent&&this.$parent.children(\".panel\").children(\".in, .collapsing\");if(!(e&&e.length&&(b=e.data(\"bs.collapse\"),b&&b.transitioning))){var f=a.Event(\"show.bs.collapse\");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,\"hide\"),b||e.data(\"bs.collapse\",null));var g=this.dimension();this.$element.removeClass(\"collapse\").addClass(\"collapsing\")[g](0).attr(\"aria-expanded\",!0),this.$trigger.removeClass(\"collapsed\").attr(\"aria-expanded\",!0),this.transitioning=1;var h=function(){this.$element.removeClass(\"collapsing\").addClass(\"collapse in\")[g](\"\"),this.transitioning=0,this.$element.trigger(\"shown.bs.collapse\")};if(!a.support.transition)return h.call(this);var i=a.camelCase([\"scroll\",g].join(\"-\"));this.$element.one(\"bsTransitionEnd\",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass(\"in\")){var b=a.Event(\"hide.bs.collapse\");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass(\"collapsing\").removeClass(\"collapse in\").attr(\"aria-expanded\",!1),this.$trigger.addClass(\"collapsed\").attr(\"aria-expanded\",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass(\"collapsing\").addClass(\"collapse\").trigger(\"hidden.bs.collapse\")};return a.support.transition?void this.$element[c](0).one(\"bsTransitionEnd\",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle=\"collapse\"][data-parent=\"'+this.options.parent+'\"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass(\"in\");a.attr(\"aria-expanded\",c),b.toggleClass(\"collapsed\",!c).attr(\"aria-expanded\",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on(\"click.bs.collapse.data-api\",'[data-toggle=\"collapse\"]',function(d){var e=a(this);e.attr(\"data-target\")||d.preventDefault();var f=b(e),g=f.data(\"bs.collapse\"),h=g?\"toggle\":e.data();c.call(f,h)})}(jQuery),+function(a){\"use strict\";function b(b){var c=b.attr(\"data-target\");c||(c=b.attr(\"href\"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,\"\"));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass(\"open\")&&(c&&\"click\"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event(\"hide.bs.dropdown\",f)),c.isDefaultPrevented()||(d.attr(\"aria-expanded\",\"false\"),e.removeClass(\"open\").trigger(a.Event(\"hidden.bs.dropdown\",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data(\"bs.dropdown\");d||c.data(\"bs.dropdown\",d=new g(this)),\"string\"==typeof b&&d[b].call(c)})}var e=\".dropdown-backdrop\",f='[data-toggle=\"dropdown\"]',g=function(b){a(b).on(\"click.bs.dropdown\",this.toggle)};g.VERSION=\"3.3.6\",g.prototype.toggle=function(d){var e=a(this);if(!e.is(\".disabled, :disabled\")){var f=b(e),g=f.hasClass(\"open\");if(c(),!g){\"ontouchstart\"in document.documentElement&&!f.closest(\".navbar-nav\").length&&a(document.createElement(\"div\")).addClass(\"dropdown-backdrop\").insertAfter(a(this)).on(\"click\",c);var h={relatedTarget:this};if(f.trigger(d=a.Event(\"show.bs.dropdown\",h)),d.isDefaultPrevented())return;e.trigger(\"focus\").attr(\"aria-expanded\",\"true\"),f.toggleClass(\"open\").trigger(a.Event(\"shown.bs.dropdown\",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(\".disabled, :disabled\")){var e=b(d),g=e.hasClass(\"open\");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger(\"focus\"),d.trigger(\"click\");var h=\" li:not(.disabled):visible a\",i=e.find(\".dropdown-menu\"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger(\"focus\")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on(\"click.bs.dropdown.data-api\",c).on(\"click.bs.dropdown.data-api\",\".dropdown form\",function(a){a.stopPropagation()}).on(\"click.bs.dropdown.data-api\",f,g.prototype.toggle).on(\"keydown.bs.dropdown.data-api\",f,g.prototype.keydown).on(\"keydown.bs.dropdown.data-api\",\".dropdown-menu\",g.prototype.keydown)}(jQuery),+function(a){\"use strict\";function b(b,d){return this.each(function(){var e=a(this),f=e.data(\"bs.modal\"),g=a.extend({},c.DEFAULTS,e.data(),\"object\"==typeof b&&b);f||e.data(\"bs.modal\",f=new c(this,g)),\"string\"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(\".modal-dialog\"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(\".modal-content\").load(this.options.remote,a.proxy(function(){this.$element.trigger(\"loaded.bs.modal\")},this))};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event(\"show.bs.modal\",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass(\"modal-open\"),this.escape(),this.resize(),this.$element.on(\"click.dismiss.bs.modal\",'[data-dismiss=\"modal\"]',a.proxy(this.hide,this)),this.$dialog.on(\"mousedown.dismiss.bs.modal\",function(){d.$element.one(\"mouseup.dismiss.bs.modal\",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass(\"fade\");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass(\"in\"),d.enforceFocus();var f=a.Event(\"shown.bs.modal\",{relatedTarget:b});e?d.$dialog.one(\"bsTransitionEnd\",function(){d.$element.trigger(\"focus\").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger(\"focus\").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event(\"hide.bs.modal\"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off(\"focusin.bs.modal\"),this.$element.removeClass(\"in\").off(\"click.dismiss.bs.modal\").off(\"mouseup.dismiss.bs.modal\"),this.$dialog.off(\"mousedown.dismiss.bs.modal\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$element.one(\"bsTransitionEnd\",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger(\"focus\")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on(\"keydown.dismiss.bs.modal\",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off(\"keydown.dismiss.bs.modal\")},c.prototype.resize=function(){this.isShown?a(window).on(\"resize.bs.modal\",a.proxy(this.handleUpdate,this)):a(window).off(\"resize.bs.modal\")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass(\"modal-open\"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger(\"hidden.bs.modal\")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass(\"fade\")?\"fade\":\"\";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement(\"div\")).addClass(\"modal-backdrop \"+e).appendTo(this.$body),this.$element.on(\"click.dismiss.bs.modal\",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&(\"static\"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass(\"in\"),!b)return;f?this.$backdrop.one(\"bsTransitionEnd\",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass(\"in\");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass(\"fade\")?this.$backdrop.one(\"bsTransitionEnd\",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:\"\",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:\"\"})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:\"\",paddingRight:\"\"})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css(\"padding-right\")||0,10);this.originalBodyPad=document.body.style.paddingRight||\"\",this.bodyIsOverflowing&&this.$body.css(\"padding-right\",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css(\"padding-right\",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement(\"div\");a.className=\"modal-scrollbar-measure\",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',function(c){var d=a(this),e=d.attr(\"href\"),f=a(d.attr(\"data-target\")||e&&e.replace(/.*(?=#[^\\s]+$)/,\"\")),g=f.data(\"bs.modal\")?\"toggle\":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is(\"a\")&&c.preventDefault(),f.one(\"show.bs.modal\",function(a){a.isDefaultPrevented()||f.one(\"hidden.bs.modal\",function(){d.is(\":visible\")&&d.trigger(\"focus\")})}),b.call(f,g,this)})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.tooltip\"),f=\"object\"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data(\"bs.tooltip\",e=new c(this,f)),\"string\"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init(\"tooltip\",a,b)};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1,viewport:{selector:\"body\",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error(\"`selector` option must be specified when initializing \"+this.type+\" on the window.document object!\");for(var e=this.options.trigger.split(\" \"),f=e.length;f--;){var g=e[f];if(\"click\"==g)this.$element.on(\"click.\"+this.type,this.options.selector,a.proxy(this.toggle,this));else if(\"manual\"!=g){var h=\"hover\"==g?\"mouseenter\":\"focusin\",i=\"hover\"==g?\"mouseleave\":\"focusout\";this.$element.on(h+\".\"+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+\".\"+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&\"number\"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data(\"bs.\"+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c)),b instanceof a.Event&&(c.inState[\"focusin\"==b.type?\"focus\":\"hover\"]=!0),c.tip().hasClass(\"in\")||\"in\"==c.hoverState?void(c.hoverState=\"in\"):(clearTimeout(c.timeout),c.hoverState=\"in\",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){\"in\"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data(\"bs.\"+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c)),b instanceof a.Event&&(c.inState[\"focusout\"==b.type?\"focus\":\"hover\"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState=\"out\",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){\"out\"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event(\"show.bs.\"+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr(\"id\",g),this.$element.attr(\"aria-describedby\",g),this.options.animation&&f.addClass(\"fade\");var h=\"function\"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\\s?auto?\\s?/i,j=i.test(h);j&&(h=h.replace(i,\"\")||\"top\"),f.detach().css({top:0,left:0,display:\"block\"}).addClass(h).data(\"bs.\"+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger(\"inserted.bs.\"+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h=\"bottom\"==h&&k.bottom+m>o.bottom?\"top\":\"top\"==h&&k.top-m<o.top?\"bottom\":\"right\"==h&&k.right+l>o.width?\"left\":\"left\"==h&&k.left-l<o.left?\"right\":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger(\"shown.bs.\"+e.type),e.hoverState=null,\"out\"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass(\"fade\")?f.one(\"bsTransitionEnd\",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css(\"margin-top\"),10),h=parseInt(d.css(\"margin-left\"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass(\"in\");var i=d[0].offsetWidth,j=d[0].offsetHeight;\"top\"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?\"offsetWidth\":\"offsetHeight\";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?\"left\":\"top\",50*(1-a/b)+\"%\").css(c?\"top\":\"left\",\"\")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](b),a.removeClass(\"fade in top bottom left right\")},c.prototype.hide=function(b){function d(){\"in\"!=e.hoverState&&f.detach(),e.$element.removeAttr(\"aria-describedby\").trigger(\"hidden.bs.\"+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event(\"hide.bs.\"+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass(\"in\"),a.support.transition&&f.hasClass(\"fade\")?f.one(\"bsTransitionEnd\",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr(\"title\")||\"string\"!=typeof a.attr(\"data-original-title\"))&&a.attr(\"data-original-title\",a.attr(\"title\")||\"\").attr(\"title\",\"\")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d=\"BODY\"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return\"bottom\"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:\"top\"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:\"left\"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr(\"data-original-title\")||(\"function\"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+\" `template` option must consist of exactly 1 top-level element!\");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data(\"bs.\"+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass(\"in\")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off(\".\"+a.type).removeData(\"bs.\"+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.popover\"),f=\"object\"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data(\"bs.popover\",e=new c(this,f)),\"string\"==typeof b&&e[b]())})}var c=function(a,b){this.init(\"popover\",a,b)};if(!a.fn.tooltip)throw new Error(\"Popover requires tooltip.js\");c.VERSION=\"3.3.6\",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(\".popover-title\")[this.options.html?\"html\":\"text\"](b),a.find(\".popover-content\").children().detach().end()[this.options.html?\"string\"==typeof c?\"html\":\"append\":\"text\"](c),a.removeClass(\"fade top bottom left right in\"),a.find(\".popover-title\").html()||a.find(\".popover-title\").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr(\"data-content\")||(\"function\"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".arrow\")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){\"use strict\";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||\"\")+\" .nav li > a\",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on(\"scroll.bs.scrollspy\",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data(\"bs.scrollspy\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.scrollspy\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})}b.VERSION=\"3.3.6\",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c=\"offset\",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c=\"position\",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data(\"target\")||b.attr(\"href\"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(\":visible\")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target=\"'+b+'\"],'+this.selector+'[href=\"'+b+'\"]',d=a(c).parents(\"li\").addClass(\"active\");\nd.parent(\".dropdown-menu\").length&&(d=d.closest(\"li.dropdown\").addClass(\"active\")),d.trigger(\"activate.bs.scrollspy\")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,\".active\").removeClass(\"active\")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on(\"load.bs.scrollspy.data-api\",function(){a('[data-spy=\"scroll\"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.tab\");e||d.data(\"bs.tab\",e=new c(this)),\"string\"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest(\"ul:not(.dropdown-menu)\"),d=b.data(\"target\");if(d||(d=b.attr(\"href\"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,\"\")),!b.parent(\"li\").hasClass(\"active\")){var e=c.find(\".active:last a\"),f=a.Event(\"hide.bs.tab\",{relatedTarget:b[0]}),g=a.Event(\"show.bs.tab\",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest(\"li\"),c),this.activate(h,h.parent(),function(){e.trigger({type:\"hidden.bs.tab\",relatedTarget:b[0]}),b.trigger({type:\"shown.bs.tab\",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!1),b.addClass(\"active\").find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),h?(b[0].offsetWidth,b.addClass(\"in\")):b.removeClass(\"fade\"),b.parent(\".dropdown-menu\").length&&b.closest(\"li.dropdown\").addClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),e&&e()}var g=d.find(\"> .active\"),h=e&&a.support.transition&&(g.length&&g.hasClass(\"fade\")||!!d.find(\"> .fade\").length);g.length&&h?g.one(\"bsTransitionEnd\",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass(\"in\")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),\"show\")};a(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"]',e).on(\"click.bs.tab.data-api\",'[data-toggle=\"pill\"]',e)}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.affix\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.affix\",e=new c(this,f)),\"string\"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on(\"scroll.bs.affix.data-api\",a.proxy(this.checkPosition,this)).on(\"click.bs.affix.data-api\",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION=\"3.3.6\",c.RESET=\"affix affix-top affix-bottom\",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&\"top\"==this.affixed)return c>e?\"top\":!1;if(\"bottom\"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:\"bottom\":a-d>=e+g?!1:\"bottom\";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?\"top\":null!=d&&i+j>=a-d?\"bottom\":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass(\"affix\");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(\":visible\")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());\"object\"!=typeof d&&(f=e=d),\"function\"==typeof e&&(e=d.top(this.$element)),\"function\"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css(\"top\",\"\");var i=\"affix\"+(h?\"-\"+h:\"\"),j=a.Event(i+\".bs.affix\");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin=\"bottom\"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace(\"affix\",\"affixed\")+\".bs.affix\")}\"bottom\"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on(\"load\",function(){a('[data-spy=\"affix\"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .config(routerConfig);\n\n    /** @ngInject */\n    function routerConfig($stateProvider, $urlRouterProvider) {\n\n\n        $stateProvider\n            .state('landing', {\n                url: '/',\n                template: '<os-landing>',\n                authenticate: false\n            })\n            .state('help', {\n                url: '/help',\n                template: '<os-help>',\n                authenticate: false\n            })\n            .state('datasource', {\n                url: '/datasource',\n                template: '<os-datasource>',\n                authenticate: true\n            })\n            .state('tools', {\n                url: '/tools/{datasource}',\n                template: '<os-tools>',\n                authenticate: true\n            })\n            .state('metadata', {\n                url: '/metadata/{datasource}',\n                template: '<os-metadata>',\n                authenticate: true\n            })\n            .state('history', {\n                url: '/history/{datasource}',\n                template: '<os-history>',\n                authenticate: true\n            })\n            .state('plsr', {\n                url: '/plsr/{datasource}',\n                template: '<os-plsr>',\n                authenticate: true\n            })\n            .state('pca', {\n                url: '/pca/{datasource}',\n                template: '<os-pca>',\n                authenticate: true\n            })\n            .state('pca3d', {\n                url: '/pca3d/{datasource}',\n                template: '<os-pca3d>',\n                authenticate: true\n            })\n            .state('markers', {\n                url: '/markers/{datasource}',\n                template: '<os-markers>',\n                authenticate: true\n            })\n            .state('pathways', {\n                url: '/pathways/{datasource}',\n                template: '<os-pathways>',\n                authenticate: true\n            })\n            .state('timelines', {\n                url: '/timelines/{datasource}',\n                template: '<os-timelines>',\n                authenticate: true\n            })\n            .state('survival', {\n                url: '/survival/{datasource}',\n                template: '<os-survival>',\n                authenticate: true\n            })\n            .state('compare', {\n                url: '/compare/{datasource}',\n                template: '<os-compare>',\n                authenticate: true\n            });\n\n        $urlRouterProvider.otherwise('/');\n    }\n\n})();\n\n/* global d3:false, $:false, signals:false, cytoscape:false, SockJS:false, document:false, moment:false, _:false, THREE:false */\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .constant('moment', moment)\n        .constant('d3', d3)\n        .constant('cytoscape', cytoscape)\n        .constant('signals', signals)\n        .constant('SockJS', SockJS)\n        .constant('domain', document.domain)\n        .constant('THREE', THREE)\n        .constant('$', $)\n        .constant('_', _);\n\n    // Util Functions\n    Number.prototype.map = function (in_min, in_max, out_min, out_max) {\n        return (this - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n    }\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .config(config);\n\n    /** @ngInject */\n    function config($logProvider, toastrConfig) {\n        // Enable log\n        $logProvider.debugEnabled(true);\n\n        // Set options third-party lib\n        toastrConfig.allowHtml = true;\n        toastrConfig.timeOut = 3000;\n        toastrConfig.positionClass = 'toast-top-right';\n        toastrConfig.preventDuplicates = true;\n        toastrConfig.progressBar = true;\n    }\n})();\n\nangular.module(\"oncoscape\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/test.html\",\"<!DOCTYPE html><html lang=\\\"en\\\"><head><meta charset=\\\"utf-8\\\"><title>Collapsible Tree Example</title><style>\\n\\n\t.node circle {\\n\t  fill: #fff;\\n\t  stroke: steelblue;\\n\t  stroke-width: 3px;\\n\t}\\n\\n\t.node text { font: 12px sans-serif; }\\n\\n\t.link {\\n\t  fill: none;\\n\t  stroke: #ccc;\\n\t  stroke-width: 2px;\\n\t}\\n\t\\n    </style></head><body><script src=\\\"http://d3js.org/d3.v3.min.js\\\"></script><script>\\n\\nvar treeData = [\\n  {\\n    \\\"name\\\": \\\"Top Level\\\",\\n    \\\"parent\\\": \\\"null\\\",\\n    \\\"children\\\": [\\n      {\\n        \\\"name\\\": \\\"Level 2: A\\\",\\n        \\\"parent\\\": \\\"Top Level\\\",\\n        \\\"children\\\": [\\n          {\\n            \\\"name\\\": \\\"Son of A\\\",\\n            \\\"parent\\\": \\\"Level 2: A\\\"\\n          },\\n          {\\n            \\\"name\\\": \\\"Daughter of A\\\",\\n            \\\"parent\\\": \\\"Level 2: A\\\"\\n          }\\n        ]\\n      },\\n      {\\n        \\\"name\\\": \\\"Level 2: B\\\",\\n        \\\"parent\\\": \\\"Top Level\\\"\\n      }\\n    ]\\n  }\\n];\\n\\n// ************** Generate the tree diagram\t *****************\\nvar margin = {top: 40, right: 120, bottom: 20, left: 120},\\n\twidth = 960 - margin.right - margin.left,\\n\theight = 500 - margin.top - margin.bottom;\\n\t\\nvar i = 0;\\n\\nvar tree = d3.layout.tree()\\n\t.size([height, width]);\\n\\nvar diagonal = d3.svg.diagonal()\\n\t.projection(function(d) { return [d.x, d.y]; });\\n\\nvar svg = d3.select(\\\"body\\\").append(\\\"svg\\\")\\n\t.attr(\\\"width\\\", width + margin.right + margin.left)\\n\t.attr(\\\"height\\\", height + margin.top + margin.bottom)\\n  .append(\\\"g\\\")\\n\t.attr(\\\"transform\\\", \\\"translate(\\\" + margin.left + \\\",\\\" + margin.top + \\\")\\\");\\n\\nroot = treeData[0];\\n  \\nupdate(root);\\n\\nfunction update(source) {\\n\\n  // Compute the new tree layout.\\n  var nodes = tree.nodes(root).reverse(),\\n\t  links = tree.links(nodes);\\n\\n  // Normalize for fixed-depth.\\n  nodes.forEach(function(d) { d.y = d.depth * 100; });\\n\\n  // Declare the nodes\\n  var node = svg.selectAll(\\\"g.node\\\")\\n\t  .data(nodes, function(d) { return d.id || (d.id = ++i); });\\n\\n  // Enter the nodes.\\n  var nodeEnter = node.enter().append(\\\"g\\\")\\n\t  .attr(\\\"class\\\", \\\"node\\\")\\n\t  .attr(\\\"transform\\\", function(d) { \\n\t\t  return \\\"translate(\\\" + d.x + \\\",\\\" + d.y + \\\")\\\"; });\\n\\n  nodeEnter.append(\\\"circle\\\")\\n\t  .attr(\\\"r\\\", 10)\\n\t  .style(\\\"fill\\\", \\\"#fff\\\");\\n\\n  nodeEnter.append(\\\"text\\\")\\n\t  .attr(\\\"y\\\", function(d) { \\n\t\t  return d.children || d._children ? -18 : 18; })\\n\t  .attr(\\\"dy\\\", \\\".35em\\\")\\n\t  .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n\t  .text(function(d) { return d.name; })\\n\t  .style(\\\"fill-opacity\\\", 1);\\n\\n  // Declare the links\\n  var link = svg.selectAll(\\\"path.link\\\")\\n\t  .data(links, function(d) { return d.target.id; });\\n\\n  // Enter the links.\\n  link.enter().insert(\\\"path\\\", \\\"g\\\")\\n\t  .attr(\\\"class\\\", \\\"link\\\")\\n\t  .attr(\\\"d\\\", diagonal);\\n\\n}\\n\\n</script></body></html>\");\n$templateCache.put(\"app/components/compare/compare.html\",\"<section class=\\\"compare-v50\\\"><os-plsr></os-plsr></section><section class=\\\"compare-v50\\\"><os-pca></os-pca></section>\");\n$templateCache.put(\"app/components/datasource/datasource.html\",\"<section class=\\\"datasource container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-8 col-md-6\\\"><h1>Data Sources</h1><p>Oncoscape has analyzed and curated the following datasets hosted by The Cancer Genome Atlas (TCGA). Raw data sets for the current organ sites including all others can be found at <a href=\\\"https://tcga-data.nci.nih.gov/tcga/\\\">TCGA Data Portal</a></p></div></div><div class=\\\"row\\\"><ul><li ng-repeat=\\\"dataset in vm.datasets\\\" class=\\\"col-xs-12 col-sm-6 col-lg-4\\\"><img class=\\\"datasource-img\\\" ng-src=\\\"/assets/images/datasets/{{dataset}}.png\\\"><h2 class=\\\"datasource-lbl\\\">{{dataset}}</h2><nobr><a href=\\\"\\\" ng-click=\\\"vm.explore(\\'tools\\',dataset)\\\">Explore</a> &nbsp;|&nbsp; <a href=\\\"\\\" ng-click=\\\"vm.explore(\\'metadata\\',dataset)\\\">Learn More</a></nobr></li></ul></div></section>\");\n$templateCache.put(\"app/components/filters/filters.html\",\"<section id=\\\"filter-dropdown\\\" class=\\\"filters container\\\"><div class=\\\"filters-tree\\\" id=\\\"filters-chart\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-8\\\"><h2 style=\\\"color:#FFF;\\\">My Cohorts</h2><p></p></div><div class=\\\"col-sm-4\\\" style=\\\"text-align: right;margin-top:30px;\\\"><div class=\\\"btn-group\\\" role=\\\"group\\\" aria-label=\\\"Basic example\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.setDisplay(\\'Cluster\\')\\\">Irregular</button> <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.setDisplay(\\'Tree\\')\\\">Normal</button></div></div></div></div></section>\");\n$templateCache.put(\"app/components/footer/footer.html\",\"<footer class=\\\"footer container\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-12 col-sm-6\\\"><img class=\\\"footer-logo\\\" src=\\\"/assets/images/logo-fred-hutchinson-cancer-research-center.png\\\" alt=\\\"Fred Hutchinson Cancer Research Center\\\"> <img class=\\\"footer-logo\\\" src=\\\"/assets/images/logo-university-of-washington-medicine.png\\\" alt=\\\"UW Medicine\\\"> <img class=\\\"footer-logo\\\" src=\\\"/assets/images/logo-seattle-cancer-care-alliance.png\\\" alt=\\\"Seattle Cancer Care Alliance\\\"></div><div class=\\\"col-xm-12 col-sm-6 text-right\\\"><a href=\\\"https://www.facebook.com/STTRCancer\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-facebook-out.png\\\" alt=\\\"Facebook\\\"></a> <a href=\\\"https://twitter.com/sttrcancer\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-twitter-out.png\\\" alt=\\\"Twitter\\\"></a> <a href=\\\"https://plus.google.com/+fredhutch/videos\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-youtube-out.png\\\" alt=\\\"YouTube\\\"></a> <a href=\\\"http://instagram.com/FredHutch\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-instagram-out.png\\\" alt=\\\"Instagram\\\"></a> <a href=\\\"http://www.linkedin.com/company/fred-hutchinson-cancer-research-center/careers?trk=top_nav_careers\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-linkedin-out.png\\\" alt=\\\"LinkedIn\\\"></a> <a href=\\\"https://plus.google.com/116048577052683099154/posts\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-google-out.png\\\" alt=\\\"Google+\\\"></a></div></div></footer>\");\n$templateCache.put(\"app/components/header/header.html\",\"<nav class=\\\"navbar navbar-inverse navbar-fixed-top\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" class=\\\"navbar-toggle collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#bs-example-navbar-collapse-1\\\" aria-expanded=\\\"false\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button> <a class=\\\"navbar-brand\\\" href=\\\"#\\\"><img alt=\\\"Brand\\\" src=\\\"/assets/images/logo.png\\\" style=\\\"max-height:50px;\\\"></a></div><div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-1\\\" ng-if=\\\"vm.showMenu\\\"><ul class=\\\"nav navbar-nav navbar-right\\\"><li><a href=\\\"#datasource\\\"><span class=\\\"glyphicon glyphicon-th\\\"></span>Data Sources</a></li><li><a href=\\\"#help\\\"><span class=\\\"glyphicon glyphicon-question-sign\\\"></span>Help</a></li><li><a href=\\\"\\\" ng-click=\\\"vm.logoutClick()\\\"><span class=\\\"glyphicon glyphicon-user\\\"></span>Logout</a></li></ul><ul class=\\\"nav navbar-nav navbar-right\\\" ng-if=\\\"vm.showTools\\\"><li><a href=\\\"\\\" ng-click=\\\"vm.cohortClick()\\\"><span class=\\\"glyphicon glyphicon-equalizer\\\"></span>My Cohorts</a></li><li><a href=\\\"\\\" ng-click=\\\"vm.toolsClick()\\\"><span class=\\\"glyphicon glyphicon-signal\\\"></span>Analysis Tools</a></li></ul></div></div></nav><a href=\\\"https://github.com/FredHutch/Oncoscape/labels/help%20wanted\\\" class=\\\"github\\\"><div class=\\\"logo\\\"><svg aria-hidden=\\\"true\\\" class=\\\"octicon octicon-mark-github\\\" height=\\\"28\\\" role=\\\"img\\\" version=\\\"1.1\\\" viewbox=\\\"0 0 16 16\\\" width=\\\"28\\\"><path d=\\\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59 0.4 0.07 0.55-0.17 0.55-0.38 0-0.19-0.01-0.82-0.01-1.49-2.01 0.37-2.53-0.49-2.69-0.94-0.09-0.23-0.48-0.94-0.82-1.13-0.28-0.15-0.68-0.52-0.01-0.53 0.63-0.01 1.08 0.58 1.23 0.82 0.72 1.21 1.87 0.87 2.33 0.66 0.07-0.52 0.28-0.87 0.51-1.07-1.78-0.2-3.64-0.89-3.64-3.95 0-0.87 0.31-1.59 0.82-2.15-0.08-0.2-0.36-1.02 0.08-2.12 0 0 0.67-0.21 2.2 0.82 0.64-0.18 1.32-0.27 2-0.27 0.68 0 1.36 0.09 2 0.27 1.53-1.04 2.2-0.82 2.2-0.82 0.44 1.1 0.16 1.92 0.08 2.12 0.51 0.56 0.82 1.27 0.82 2.15 0 3.07-1.87 3.75-3.65 3.95 0.29 0.25 0.54 0.73 0.54 1.48 0 1.07-0.01 1.93-0.01 2.2 0 0.21 0.15 0.46 0.55 0.38C13.71 14.53 16 11.53 16 8 16 3.58 12.42 0 8 0z\\\"></path></svg></div></a>\");\n$templateCache.put(\"app/components/help/help.html\",\"<section class=\\\"tools container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-8 col-md-6\\\"><br><br><br></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-12 col-md-7\\\"><h2 style=\\\"margin:0px;margin-bottom: 20px;\\\">Now Playing &mdash; Lorum Ipsum</h2><div style=\\\"background-color:#000;text-align: center;\\\"><video width=\\\"640\\\" height=\\\"360\\\" controls=\\\"\\\" style=\\\"background-color: #000;max-width: 100%;\\\"></video></div><h2>Video Title</h2><p>Transcription At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat</p></div><div class=\\\"col-xs-12 col-md-5\\\" style=\\\"padding-left: 40px;\\\"><h2 style=\\\"margin:0px;\\\">Oncoscape Videos</h2><ul><li ng-repeat=\\\"video in vm.videos\\\" style=\\\"clear: both;\\\"><div style=\\\"width:30%;height:90px;background-color:#EEE;display:inline-block;float:left;margin-bottom: 20px;text-align: center;cursor: pointer;\\\"><span class=\\\"glyphicon glyphicon-play-circle\\\" style=\\\"font-size: 30px;padding-top:30px; color:#FFF\\\"></span></div><div style=\\\"width:69%;display: inline-block;float:left;padding-left: 10px;\\\"><h3 class=\\\"tools-lbl\\\" style=\\\"margin:0px;\\\">{{video.name}}</h3><p>{{video.desc}}</p><a href=\\\"\\\" ng-click=\\\"vm.explore(tool.route, vm.datasource)\\\">Watch Video</a></div></li></ul></div></div></section>\");\n$templateCache.put(\"app/components/history/history.html\",\"<section class=\\\"history container container-filters\\\"><h2>Patient History &mdash; {{vm.datasource}}</h2><div class=\\\"row\\\"><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Age At diagnosis</label><div range-slider=\\\"\\\" min=\\\"vm.diagnosisMinValue\\\" model-min=\\\"vm.diagnosisMin\\\" max=\\\"vm.diagnosisMaxValue\\\" model-max=\\\"vm.diagnosisMax\\\" show-values=\\\"true\\\" attach-handle-values=\\\"true\\\" on-handle-up=\\\"vm.applyFilter()\\\"></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Survival</label><div range-slider=\\\"\\\" min=\\\"vm.survivalMinValue\\\" model-min=\\\"vm.survivalMin\\\" max=\\\"vm.survivalMaxValue\\\" model-max=\\\"vm.survivalMax\\\" show-values=\\\"true\\\" attach-handle-values=\\\"true\\\" on-handle-up=\\\"vm.applyFilter()\\\"></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px\\\"><label>Search</label> <input type=\\\"text\\\" class=\\\"ngrs-range-slider\\\" style=\\\"width: 100%;\\\" ng-model=\\\"vm.search\\\"></div><div class=\\\"col-xs-3\\\"><label>Create Cohort</label><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Cohort Name\\\" style=\\\"height:29px;\\\" ng-model=\\\"vm.cohort\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" style=\\\"height:29px;\\\" ng-click=\\\"vm.createCohort()\\\">Go!</button></span></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section class=\\\"history container\\\" style=\\\"padding-top:20px;\\\"><table id=\\\"history-datatable\\\" class=\\\"table table-striped table-bordered\\\" cellspacing=\\\"0\\\"><thead><tr><th ng-repeat=\\\"col in vm.colnames\\\">{{col}}</th></tr></thead><tbody><tr ng-repeat=\\\"row in vm.rows\\\"><td ng-repeat=\\\"datum in row track by $index\\\">{{datum}}</td></tr></tbody></table></section>\");\n$templateCache.put(\"app/components/landing/landing.html\",\"<div class=\\\"landing container\\\"><div class=\\\"row\\\" style=\\\"padding-top:20px;\\\"><h2>Bridging Cancer Research and Clinical Care</h2></div><div class=\\\"row\\\" style=\\\"padding-top:20px;\\\"><div class=\\\"col-sm-8\\\"><p>Oncoscape is developed at the Fred Hutchinson Cancer Research Center under the auspices of the Solid Tumor Translational Research initiative. Oncoscape is a web-based, menu-driven analysis and visualization platform for large-scale, heterogeneous clinical and molecular patient timeline data as exemplified by the Fred Hutch HIDRA database. Oncoscape was conceived, and is managed, by a Steering Committee comprising: <a href=\\\"https://www.fredhutch.org/en/labs/profiles/holland-eric.html\\\">Eric Holland</a>, <a href=\\\"http://www.sttrcancer.org/en/contact-us/horse-grant-bio.html\\\">Desert Horse-Grant</a>, <a href=\\\"https://www.linkedin.com/in/lisa-mcferrin-9758b029\\\">Lisa McFerrin</a>, <a href=\\\"https://www.linkedin.com/in/hbolouri\\\">Hamid Bolouri</a>, <a href=\\\"https://www.linkedin.com/in/jenny-zhang-ba62a2104\\\">Jenny Zhang</a>, <a href=\\\"https://www.linkedin.com/in/gretchenh\\\">Gretchen Heinrich</a>, <a href=\\\"https://www.linkedin.com/in/robert-mcdermott-a77b9011\\\">Robert McDermott</a> and <a href=\\\"https://www.linkedin.com/in/zager\\\">Michael Zager</a>.</p><p class=\\\"\\\">Through its easy point-and-click browser interface, Oncoscape will become an essential tool for doctors and researchers interested in:</p><ul class=\\\"\\\"><li>Comparing patients or populations across an array of features, like genetic alterations (CNV, IHC, sequencing, expression) or clinical elements (treatment regimens, diagnostics, outcomes)</li><li>Defining cohorts based on selected traits  identifying patients like me</li><li>Aligning patient histories according to timeline events: diagnosis, treatment, progression, survival</li><li>Performing powerful and integrated statistical analysis: Principle Component Analysis, Partial least squares regression, Kaplan-Meier curves, enrichment scores</li><li>Creating high quality visualizations of molecular/clinical data</li></ul><p class=\\\"\\\">By providing a portal equipped with rich data, powerful statistics and a simple interface, Oncoscape not only empowers users to quickly answer questions themselves but also expedites the process of discovering novel patterns and relationships. This can lead to numerous possible findings, including optimized drug therapies for individual patients, identification of novel regulatory pathways, or even the need to reassess adherence strategies.</p></div><div class=\\\"col-sm-4\\\"><os-login></os-login></div></div></div>\");\n$templateCache.put(\"app/components/loader/loader.html\",\"<div class=\\\"loader-modal\\\"><div class=\\\"loader\\\"><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__ball\\\"></div></div></div>\");\n$templateCache.put(\"app/components/markers/markers.html\",\"<section class=\\\"markers container-fluid container-filters\\\"><h2>Markers + Patients &mdash; {{vm.datasource}}</h2><div class=\\\"row\\\"><div class=\\\"col-xs-2\\\" style=\\\"padding-right:20px;\\\"><label>Interactive Mode</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.optInteractiveMode.name}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li ng-repeat=\\\"item in vm.optInteractiveModes\\\" ng-click=\\\"vm.optInteractiveMode=item\\\">{{item.name}}</li></ul></div></div><div class=\\\"col-xs-2\\\" style=\\\"padding-right:20px;\\\"><label>Patient Layout</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.optPatientLayout.name}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu filter-list\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Patient Distribution</li><li ng-repeat=\\\"item in vm.optPatientLayouts\\\" class=\\\"radio\\\" style=\\\"padding-left:10px\\\"><label><input type=\\\"radio\\\" name=\\\"patientType\\\" ng-click=\\\"vm.optPatientLayout = item\\\" ng-checked=\\\"optPatientLayout==item\\\">{{item.name}}</label></li></ul></div></div><div class=\\\"col-xs-2\\\" style=\\\"padding-right:20px;\\\"><label>Patient Color</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.optNodeColor.name}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu filter-list\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Patients Colors</li><li ng-repeat=\\\"item in vm.optNodeColors\\\" class=\\\"radio\\\" style=\\\"padding-left:10px\\\"><label><input type=\\\"radio\\\" name=\\\"patientType\\\" ng-click=\\\"vm.optNodeColor = item\\\" ng-checked=\\\"vm.optNodeColor==item\\\"> {{item.name}}</label></li></ul></div></div><div class=\\\"col-xs-2\\\" style=\\\"padding-right:20px;\\\"><label>Patient Search</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width:100%;height:28px;\\\" ng-model=\\\"vm.searchPatient\\\"></div><div class=\\\"col-xs-2\\\" style=\\\"padding-right:20px;\\\"><label>Gene Search</label> <input type=\\\"text\\\" class=\\\"form-control\\\" style=\\\"width:100%;height:28px;\\\" ng-model=\\\"vm.searchGene\\\"></div><div class=\\\"col-xs-2\\\"><label>Create Cohort</label><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Cohort Name\\\" style=\\\"height:29px;\\\" ng-model=\\\"vm.cohort\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" style=\\\"height:29px;\\\" ng-click=\\\"vm.createCohort()\\\">Go!</button></span></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><div class=\\\"legend\\\"><ul><li class=\\\"legend-section\\\">Node Colors</li><li ng-repeat=\\\"item in vm.legandNodes\\\"><div class=\\\"circle {{item.color}}\\\"></div>{{item.name}}</li><li><div class=\\\"circle gene\\\"></div>Gene</li><li><hr></li><li class=\\\"legend-section\\\">Edge Colors</li><li ng-repeat=\\\"item in vm.optEdgeColors\\\"><button class=\\\"btn btn-default filter-button {{item.class}}\\\" ng-click=\\\"vm.updateEdge(item); $event.stopPropagation();\\\" style=\\\"font-weight: 300\\\">{{item.name}} ({{item.state}})</button></li></ul></div><div class=\\\"legend legend-right\\\" ng-show=\\\"vm.patient\\\"><ul><li class=\\\"legend-section\\\">Patient Information</li><li>PID: {{vm.patient[0][0]}}</li><li>GENDER: {{vm.patient[0][2]}}</li><li>STATUS: {{vm.patient[0][6]}}</li><li>DIAGNOSED: {{vm.patient[0][4]}} years old</li><li>SURVIVED: {{vm.patient[0][3]}} years</li><li>PROGRESSION: {{vm.patient[0][5]}}</li><li><hr></li><li class=\\\"legend-section\\\">Genes ({{vm.patientChromosomes.length}})</li><li><span ng-repeat=\\\"item in vm.patientChromosomes\\\">{{item}} |</span></li></ul></div><section id=\\\"markers-chart\\\" class=\\\"markers-chart\\\"></section>\");\n$templateCache.put(\"app/components/login/login.html\",\"<form class=\\\"login\\\"><h3 class=\\\"login-header\\\">Login</h3><div class=\\\"login-body\\\"><div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" ng-show=\\\"vm.hasError\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Error:</span> Invalid Credentials</div><fieldset class=\\\"form-group\\\"><span for=\\\"domain\\\" class=\\\"small\\\">Affiliation</span><select id=\\\"domain\\\" class=\\\"form-control\\\" ng-options=\\\"option.name for option in vm.domains track by option.name\\\" ng-model=\\\"vm.user.domain\\\"></select></fieldset><fieldset class=\\\"form-group\\\"><span class=\\\"form-control-label small\\\" for=\\\"username\\\">Username</span> <input id=\\\"username\\\" class=\\\"form-control input-sm\\\" type=\\\"text\\\" placeholder=\\\"Username\\\" ng-model=\\\"vm.user.name\\\"></fieldset><fieldset class=\\\"form-group\\\" ng-show=\\\"vm.user.domain.name!=\\'Guest\\'\\\"><span class=\\\"form-control-label small\\\" for=\\\"password\\\">Password</span> <input id=\\\"password\\\" class=\\\"form-control\\\" type=\\\"password\\\" placeholder=\\\"Password\\\" ng-model=\\\"vm.user.password\\\"></fieldset><button class=\\\"btn btn-default\\\" ng-click=\\\"vm.login()\\\">Login</button></div></form>\");\n$templateCache.put(\"app/components/metadata/metadata.html\",\"<section class=\\\"metadata container container-filters\\\"><h2>Metadata &mdash; {{vm.dataset}}</h2><div class=\\\"row\\\"><div class=\\\"col-xs-9\\\" style=\\\"padding-right: 60px;\\\">{{vm.dataset}} raw data was provided by <a href=\\\"http://cancergenome.nih.gov/\\\">The Cancer Genome Atlas</a>. Processing of data was conducted by the <a href=\\\"http://www.sttrcancer.org/en.html\\\">Solid Tumor Translational Research Organization</a> in conjuntion with the <a href=\\\"http://www.fhcrc.org\\\">Fred Hutchinson Cancer Research Center</a>, <a href=\\\"http://www.uwmedicine.org/\\\">UW Medicine</a> and <a href=\\\"http://www.scca.org\\\">The Seattle Cancer Care Alliance</a>.</div><div class=\\\"col-xs-3\\\" style=\\\"margin: 10px 0 30px;\\\"><label>Search</label> <input type=\\\"text\\\" class=\\\"ngrs-range-slider ngrs-range-slider-no-pad\\\" style=\\\"width:100%\\\" ng-model=\\\"vm.search\\\"></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section class=\\\"metadata container\\\" style=\\\"padding-top:20px;\\\"><table id=\\\"metadata-datatable\\\" class=\\\"table table-striped table-bordered\\\" cellspacing=\\\"0\\\"><thead><tr><th ng-repeat=\\\"col in vm.colnames\\\">{{col}}</th></tr></thead><tbody><tr ng-repeat=\\\"row in vm.rows\\\"><td ng-repeat=\\\"datum in row track by $index\\\">{{datum}}</td></tr></tbody></table></section>\");\n$templateCache.put(\"app/components/pathways/pathways.html\",\"<section class=\\\"pathways container container-filters\\\"><h2>Pathways &mdash; {{vm.datasource}}</h2><div class=\\\"row\\\"><div class=\\\"col-xs-3\\\"><label>Search</label><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"ngrs-range-slider\\\" style=\\\"width:100%\\\" ng-model=\\\"vm.search\\\"></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"gbm-chart\\\" class=\\\"pathways-chart\\\"></section><div class=\\\"modal fade pathways\\\" id=\\\"gbm-webpage\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">{{vm.tip}}</h4></div><iframe class=\\\"modal-iframe\\\" ng-src=\\\"{{vm.frame}}\\\"></iframe></div></div></div><section class=\\\"legend\\\"><ul><li class=\\\"legend-section\\\">Legend</li><li style=\\\"border:0px solid green; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Activation</li><li style=\\\"border:0px solid red; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Inhibition</li><li style=\\\"border:0px solid #38347B; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Modification</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Genes</li></ul><ul class=\\\"legand\\\" ng-if=\\\"vm.tip\\\"><li><hr></li><li class=\\\"legend-section\\\">Click To</li><li>View {{vm.tip}}</li></ul></section>\");\n$templateCache.put(\"app/components/pca/pca.html\",\"<section class=\\\"pca container container-filters\\\"><h2>Principal Component Analysis &mdash; {{vm.datasource}}</h2><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\" style=\\\"padding-right:20px;\\\"><label>Gene Set</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.geneSet}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\"><li ng-repeat=\\\"item in vm.geneSets\\\" ng-click=\\\"vm.geneSet=item\\\">{{item}}</li></ul></div></div><div class=\\\"col-xs-3\\\"><label>Create Cohort</label><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Cohort Name\\\" style=\\\"height:29px;\\\" ng-model=\\\"vm.cohort\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" style=\\\"height:29px;\\\" ng-click=\\\"vm.createCohort()\\\">Go!</button></span></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"pca-chart\\\" class=\\\"pca container-fluid\\\" style=\\\"margin:50px 100px;height: 60vh\\\"></section><section class=\\\"legend\\\"><ul><li class=\\\"legend-section\\\">Legend</li><li><span class=\\\"circle\\\" style=\\\"background-color:black;width:10px;height: 10px;margin-right:10px;\\\"></span>Patients</li><li><hr></li><li class=\\\"legend-section\\\">Variance</li><li>PC1: {{vm.pc1*100}}%</li><li>PC2: {{vm.pc2*100}}%</li></ul></section>\");\n$templateCache.put(\"app/components/pca3d/pca3d.html\",\"<section class=\\\"pca container container-filters\\\"><h2>Principal Component Analysis &mdash; {{vm.datasource}}</h2><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\" style=\\\"padding-right:20px;\\\"><label>Gene Set</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.geneSet}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\"><li ng-repeat=\\\"item in vm.geneSets\\\" ng-click=\\\"vm.geneSet=item\\\">{{item}}</li></ul></div></div><div class=\\\"col-xs-3\\\"><label>Create Cohort</label><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Cohort Name\\\" style=\\\"height:29px;\\\" ng-model=\\\"vm.cohort\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" style=\\\"height:29px;\\\" ng-click=\\\"vm.createCohort()\\\">Go!</button></span></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"pca-chart\\\" class=\\\"pca container-fluid\\\" style=\\\"margin:50px 100px;height: 60vh\\\"></section><section class=\\\"legend\\\"><ul><li class=\\\"legend-section\\\">Legend</li><li><span class=\\\"circle\\\" style=\\\"background-color:black;width:10px;height: 10px;margin-right:10px;\\\"></span>Patients</li><li><hr></li><li class=\\\"legend-section\\\">Variance</li><li>PC1: {{vm.pc1*100}}%</li><li>PC2: {{vm.pc2*100}}%</li></ul></section>\");\n$templateCache.put(\"app/components/plsr/plsr.html\",\"<section class=\\\"plsr container container-filters\\\"><h2>Partial Least Squares Regression &mdash; {{vm.datasource}}</h2><div class=\\\"row\\\"><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Gene Set</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.geneSet}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\"><li ng-repeat=\\\"item in vm.geneSets\\\" ng-click=\\\"vm.geneSet=item\\\">{{item}}</li></ul></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Age At Diagnosis</label><div range-slider=\\\"\\\" min=\\\"vm.deathMinValue\\\" model-min=\\\"vm.deathMinFilter\\\" max=\\\"vm.deathMaxValue\\\" model-max=\\\"vm.deathMaxFilter\\\" show-values=\\\"true\\\" attach-handle-values=\\\"true\\\" on-handle-up=\\\"vm.update()\\\"></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Survival</label><div range-slider=\\\"\\\" min=\\\"vm.survivalMinValue\\\" model-min=\\\"vm.survivalMinFilter\\\" max=\\\"vm.survivalMaxValue\\\" model-max=\\\"vm.survivalMaxFilter\\\" show-values=\\\"true\\\" attach-handle-values=\\\"true\\\" on-handle-up=\\\"vm.update()\\\"></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"plsr-chart\\\" class=\\\"plsr container-fluid container-content\\\"></section><div class=\\\"modal fade pathways\\\" id=\\\"plsr-webpage\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">{{vm.tip}}</h4></div><iframe class=\\\"modal-iframe\\\" ng-src=\\\"{{vm.frame}}\\\"></iframe></div></div></div><section class=\\\"legend\\\"><ul><li class=\\\"legend-section\\\">Legend</li><li style=\\\"border:0px solid #1396de; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Age At Diagnosis</li><li style=\\\"border:0px solid #38347b; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Survival</li><li><span class=\\\"circle\\\" style=\\\"background-color:black;width:10px;height: 10px;margin-right:10px;\\\"></span>Genes</li></ul></section>\");\n$templateCache.put(\"app/components/subnav/subnav.html\",\"<div class=\\\"subnav\\\"><div class=\\\"btn-group\\\" style=\\\"float:right\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.toolsClick()\\\">Analysis Tools</button> <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.cohortClick()\\\">Cohorts</button></div><h2>{{vm.tool}} &mdash; {{vm.filter}}</h2></div>\");\n$templateCache.put(\"app/components/survival/survival.html\",\"<section class=\\\"survival container container-filters\\\"><h2>Patient Survival &mdash; {{vm.datasource}} <span ng-if=\\\"vm.datasource!=vm.filter.name\\\">{{vm.filter.name}}</span></h2></section><section class=\\\"survival container\\\" style=\\\"padding-top:20px;text-align: center;\\\"><img id=\\\"survival-img\\\" style=\\\"max-width: 75%; height: auto; margin:auto;\\\"></section>\");\n$templateCache.put(\"app/components/timelines/timelines.html\",\"<section class=\\\"timelines container container-filters\\\"><h2>Timelines &mdash; {{vm.datasource}}</h2><div class=\\\"row\\\"><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Event Visibility</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">Select Events <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li ng-repeat=\\\"item in vm.events\\\" ng-click=\\\"vm.eventClick(item)\\\" style=\\\"border:0px solid; border-left-width: 5px;\\\" ng-style=\\\"{\\'border-color\\':item.color}\\\">{{item.name}} ({{item.selected}})</li></ul></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Event Alignment</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.align.name}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li ng-repeat=\\\"item in vm.events\\\" ng-click=\\\"vm.align = item\\\">{{item.name}}</li></ul></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Feature To Compare</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.feature.name}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li ng-repeat=\\\"item in vm.features\\\" ng-click=\\\"vm.feature=item\\\">{{item.name}}</li></ul></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Sort Patients By</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.sort.name}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li ng-repeat=\\\"item in vm.features\\\" ng-click=\\\"vm.sort = item\\\">{{item.name}}</li></ul></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section class=\\\"timelines container-fluid container-content\\\" style=\\\"position:relative;padding-top:25px;\\\"><h5 class=\\\"timelines-lbl-feature\\\" style=\\\"padding-left:50px;position:absolute;top:20px;\\\"><span class=\\\"glyphicon glyphicon-align-left\\\" style=\\\"color:rgb(89, 165, 251);\\\"></span> {{vm.feature.name}}</h5><h5 style=\\\"padding-left:50px;position:absolute; bottom:50px;\\\" class=\\\"timelines-lbl-events\\\"><ul class=\\\"timeline-events\\\"><li ng-repeat=\\\"item in vm.events\\\" ng-click=\\\"vm.eventClick(item)\\\" ng-style=\\\"item.selected && {\\'border-color\\':item.color}\\\">{{item.name}}</li></ul></h5><div id=\\\"timelines-chart\\\" style=\\\"height:1200px;\\\"></div></section>\");\n$templateCache.put(\"app/components/tools/tools.html\",\"<section class=\\\"tools container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-8 col-md-6\\\"><h1>Analysis Tools</h1></div></div><div class=\\\"row\\\"><ul><li ng-repeat=\\\"tool in vm.tools\\\" class=\\\"col-xs-12 col-sm-6 col-md-4 col-lg-3\\\"><img class=\\\"tools-img\\\" ng-src=\\\"/assets/images/datasets/{{tool.img}}\\\"><div class=\\\"tools-copy\\\"><h2 class=\\\"tools-lbl\\\">{{tool.name}}</h2><a href=\\\"\\\" ng-click=\\\"vm.explore(tool.route, vm.datasource)\\\">Explore</a></div></li></ul></div></section>\");}]);"],"sourceRoot":"/source/"}